{
  "address": "0xc77C8325eBf43E985BE62F6d611792B5964a10B7",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "incognitoAddress",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Deposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "incognitoAddress",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "depositID",
          "type": "uint256"
        }
      ],
      "name": "DepositV2",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "id",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "phaseID",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "errorData",
          "type": "bytes"
        }
      ],
      "name": "ExecuteFnLog",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "redepositIncAddress",
          "type": "bytes"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "itx",
          "type": "bytes32"
        }
      ],
      "name": "Redeposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "newIncognitoProxy",
          "type": "address"
        }
      ],
      "name": "UpdateIncognitoProxy",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address[]",
          "name": "assets",
          "type": "address[]"
        },
        {
          "indexed": false,
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        }
      ],
      "name": "UpdateTokenTotal",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Withdraw",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "BURN_CALL_REQUEST_METADATA_TYPE",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "BURN_REQUEST_METADATA_TYPE",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "BURN_TO_CONTRACT_REQUEST_METADATA_TYPE",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "CURRENT_NETWORK_ID",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ETH_TOKEN",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "externalCalldata",
          "type": "bytes"
        },
        {
          "internalType": "address",
          "name": "redepositToken",
          "type": "address"
        }
      ],
      "name": "_callExternal",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "address payable",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "_transferExternal",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "balanceOf",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "incognitoAddress",
          "type": "string"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "incognitoAddress",
          "type": "string"
        }
      ],
      "name": "depositERC20",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "incognitoAddress",
          "type": "string"
        }
      ],
      "name": "depositERC20_V2",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "incognitoAddress",
          "type": "string"
        }
      ],
      "name": "deposit_V2",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "recipientToken",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "exchangeAddress",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "callData",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "timestamp",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "signData",
          "type": "bytes"
        }
      ],
      "name": "execute",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "inst",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "heights",
          "type": "uint256"
        },
        {
          "internalType": "bytes32[]",
          "name": "instPaths",
          "type": "bytes32[]"
        },
        {
          "internalType": "bool[]",
          "name": "instPathIsLefts",
          "type": "bool[]"
        },
        {
          "internalType": "bytes32",
          "name": "instRoots",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "blkData",
          "type": "bytes32"
        },
        {
          "internalType": "uint256[]",
          "name": "sigIdxs",
          "type": "uint256[]"
        },
        {
          "internalType": "uint8[]",
          "name": "sigVs",
          "type": "uint8[]"
        },
        {
          "internalType": "bytes32[]",
          "name": "sigRs",
          "type": "bytes32[]"
        },
        {
          "internalType": "bytes32[]",
          "name": "sigSs",
          "type": "bytes32[]"
        }
      ],
      "name": "executeWithBurnProof",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "getDecimals",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "getDepositedBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_prevVault",
          "type": "address"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "isInitialized",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "hash",
          "type": "bytes32"
        }
      ],
      "name": "isSigDataUsed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "hash",
          "type": "bytes32"
        }
      ],
      "name": "isWithdrawed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "migration",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "notEntered",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "inst",
          "type": "bytes"
        }
      ],
      "name": "parseBurnInst",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint8",
              "name": "meta",
              "type": "uint8"
            },
            {
              "internalType": "uint8",
              "name": "shard",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "address payable",
              "name": "to",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "itx",
              "type": "bytes32"
            }
          ],
          "internalType": "struct VaultBSC.BurnInstData",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "inst",
          "type": "bytes"
        }
      ],
      "name": "parseCalldataFromBurnInst",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint8",
              "name": "meta",
              "type": "uint8"
            },
            {
              "internalType": "uint8",
              "name": "shard",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "address payable",
              "name": "to",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "itx",
              "type": "bytes32"
            }
          ],
          "internalType": "struct VaultBSC.BurnInstData",
          "name": "",
          "type": "tuple"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "redepositToken",
              "type": "address"
            },
            {
              "internalType": "bytes",
              "name": "redepositIncAddress",
              "type": "bytes"
            },
            {
              "internalType": "address payable",
              "name": "withdrawAddress",
              "type": "address"
            }
          ],
          "internalType": "struct VaultBSC.RedepositOptions",
          "name": "",
          "type": "tuple"
        },
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "prevVault",
      "outputs": [
        {
          "internalType": "contract Withdrawable",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "incognitoAddress",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "signData",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "timestamp",
          "type": "bytes"
        }
      ],
      "name": "requestWithdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "sigDataUsed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "signData",
          "type": "bytes"
        },
        {
          "internalType": "bytes32",
          "name": "hash",
          "type": "bytes32"
        }
      ],
      "name": "sigToAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "inst",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "heights",
          "type": "uint256"
        },
        {
          "internalType": "bytes32[]",
          "name": "instPaths",
          "type": "bytes32[]"
        },
        {
          "internalType": "bool[]",
          "name": "instPathIsLefts",
          "type": "bool[]"
        },
        {
          "internalType": "bytes32",
          "name": "instRoots",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "blkData",
          "type": "bytes32"
        },
        {
          "internalType": "uint256[]",
          "name": "sigIdxs",
          "type": "uint256[]"
        },
        {
          "internalType": "uint8[]",
          "name": "sigVs",
          "type": "uint8[]"
        },
        {
          "internalType": "bytes32[]",
          "name": "sigRs",
          "type": "bytes32[]"
        },
        {
          "internalType": "bytes32[]",
          "name": "sigSs",
          "type": "bytes32[]"
        }
      ],
      "name": "submitBurnProof",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "totalDepositedToSCAmount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "assets",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        }
      ],
      "name": "updateAssets",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "inst",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "heights",
          "type": "uint256"
        },
        {
          "internalType": "bytes32[]",
          "name": "instPaths",
          "type": "bytes32[]"
        },
        {
          "internalType": "bool[]",
          "name": "instPathIsLefts",
          "type": "bool[]"
        },
        {
          "internalType": "bytes32",
          "name": "instRoots",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "blkData",
          "type": "bytes32"
        },
        {
          "internalType": "uint256[]",
          "name": "sigIdxs",
          "type": "uint256[]"
        },
        {
          "internalType": "uint8[]",
          "name": "sigVs",
          "type": "uint8[]"
        },
        {
          "internalType": "bytes32[]",
          "name": "sigRs",
          "type": "bytes32[]"
        },
        {
          "internalType": "bytes32[]",
          "name": "sigSs",
          "type": "bytes32[]"
        }
      ],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "withdrawRequests",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "withdrawed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "transactionHash": "0xd59516cdc300916879089e4608a6b2682b6015148bc225dce5c442dad493b58a",
  "receipt": {
    "to": null,
    "from": "0xb5A581c6EA895fBfD0d7529ac04e24Bf12804c2d",
    "contractAddress": "0xc77C8325eBf43E985BE62F6d611792B5964a10B7",
    "transactionIndex": 24,
    "gasUsed": "4259765",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x3c133666a81fe93887fb2c8667c4f003e10c45e0d86660fb2263669aa027411b",
    "transactionHash": "0xd59516cdc300916879089e4608a6b2682b6015148bc225dce5c442dad493b58a",
    "logs": [],
    "blockNumber": 22254681,
    "cumulativeGasUsed": "10205374",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "88ad8ed5a36300468d01e2025725d927",
  "metadata": "{\"compiler\":{\"version\":\"0.6.12+commit.27d51765\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"incognitoAddress\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Deposit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"incognitoAddress\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"depositID\",\"type\":\"uint256\"}],\"name\":\"DepositV2\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"id\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"phaseID\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"errorData\",\"type\":\"bytes\"}],\"name\":\"ExecuteFnLog\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"redepositIncAddress\",\"type\":\"bytes\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"itx\",\"type\":\"bytes32\"}],\"name\":\"Redeposit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newIncognitoProxy\",\"type\":\"address\"}],\"name\":\"UpdateIncognitoProxy\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address[]\",\"name\":\"assets\",\"type\":\"address[]\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"amounts\",\"type\":\"uint256[]\"}],\"name\":\"UpdateTokenTotal\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Withdraw\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"BURN_CALL_REQUEST_METADATA_TYPE\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"BURN_REQUEST_METADATA_TYPE\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"BURN_TO_CONTRACT_REQUEST_METADATA_TYPE\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"CURRENT_NETWORK_ID\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ETH_TOKEN\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"externalCalldata\",\"type\":\"bytes\"},{\"internalType\":\"address\",\"name\":\"redepositToken\",\"type\":\"address\"}],\"name\":\"_callExternal\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"_transferExternal\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"incognitoAddress\",\"type\":\"string\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"incognitoAddress\",\"type\":\"string\"}],\"name\":\"depositERC20\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"incognitoAddress\",\"type\":\"string\"}],\"name\":\"depositERC20_V2\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"incognitoAddress\",\"type\":\"string\"}],\"name\":\"deposit_V2\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"recipientToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"exchangeAddress\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"callData\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"timestamp\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"signData\",\"type\":\"bytes\"}],\"name\":\"execute\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"inst\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"heights\",\"type\":\"uint256\"},{\"internalType\":\"bytes32[]\",\"name\":\"instPaths\",\"type\":\"bytes32[]\"},{\"internalType\":\"bool[]\",\"name\":\"instPathIsLefts\",\"type\":\"bool[]\"},{\"internalType\":\"bytes32\",\"name\":\"instRoots\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"blkData\",\"type\":\"bytes32\"},{\"internalType\":\"uint256[]\",\"name\":\"sigIdxs\",\"type\":\"uint256[]\"},{\"internalType\":\"uint8[]\",\"name\":\"sigVs\",\"type\":\"uint8[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"sigRs\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"sigSs\",\"type\":\"bytes32[]\"}],\"name\":\"executeWithBurnProof\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"getDecimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"getDepositedBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_prevVault\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isInitialized\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"isSigDataUsed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"isWithdrawed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"migration\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"notEntered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"inst\",\"type\":\"bytes\"}],\"name\":\"parseBurnInst\",\"outputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"meta\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"shard\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"itx\",\"type\":\"bytes32\"}],\"internalType\":\"struct VaultBSC.BurnInstData\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"inst\",\"type\":\"bytes\"}],\"name\":\"parseCalldataFromBurnInst\",\"outputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"meta\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"shard\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"itx\",\"type\":\"bytes32\"}],\"internalType\":\"struct VaultBSC.BurnInstData\",\"name\":\"\",\"type\":\"tuple\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"redepositToken\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"redepositIncAddress\",\"type\":\"bytes\"},{\"internalType\":\"address payable\",\"name\":\"withdrawAddress\",\"type\":\"address\"}],\"internalType\":\"struct VaultBSC.RedepositOptions\",\"name\":\"\",\"type\":\"tuple\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"prevVault\",\"outputs\":[{\"internalType\":\"contract Withdrawable\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"incognitoAddress\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"signData\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"timestamp\",\"type\":\"bytes\"}],\"name\":\"requestWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"sigDataUsed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"signData\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"sigToAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"inst\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"heights\",\"type\":\"uint256\"},{\"internalType\":\"bytes32[]\",\"name\":\"instPaths\",\"type\":\"bytes32[]\"},{\"internalType\":\"bool[]\",\"name\":\"instPathIsLefts\",\"type\":\"bool[]\"},{\"internalType\":\"bytes32\",\"name\":\"instRoots\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"blkData\",\"type\":\"bytes32\"},{\"internalType\":\"uint256[]\",\"name\":\"sigIdxs\",\"type\":\"uint256[]\"},{\"internalType\":\"uint8[]\",\"name\":\"sigVs\",\"type\":\"uint8[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"sigRs\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"sigSs\",\"type\":\"bytes32[]\"}],\"name\":\"submitBurnProof\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"totalDepositedToSCAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"assets\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"amounts\",\"type\":\"uint256[]\"}],\"name\":\"updateAssets\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"inst\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"heights\",\"type\":\"uint256\"},{\"internalType\":\"bytes32[]\",\"name\":\"instPaths\",\"type\":\"bytes32[]\"},{\"internalType\":\"bool[]\",\"name\":\"instPathIsLefts\",\"type\":\"bool[]\"},{\"internalType\":\"bytes32\",\"name\":\"instRoots\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"blkData\",\"type\":\"bytes32\"},{\"internalType\":\"uint256[]\",\"name\":\"sigIdxs\",\"type\":\"uint256[]\"},{\"internalType\":\"uint8[]\",\"name\":\"sigVs\",\"type\":\"uint8[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"sigRs\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"sigSs\",\"type\":\"bytes32[]\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"withdrawRequests\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"withdrawed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"balanceOf(address)\":{\"details\":\"Get the amount of coin deposited to this smartcontract\"},\"deposit(string)\":{\"details\":\"Makes a ETH deposit to the vault to mint pETH over at Incognito Chain\",\"params\":{\"incognitoAddress\":\": Incognito Address to receive pETH\"}},\"depositERC20(address,uint256,string)\":{\"details\":\"Makes a ERC20 deposit to the vault to mint pERC20 over at Incognito Chain\",\"params\":{\"amount\":\": to deposit to the vault and mint on Incognito Chain\",\"incognitoAddress\":\": Incognito Address to receive pERC20\",\"token\":\": address of the ERC20 token\"}},\"depositERC20_V2(address,uint256,string)\":{\"details\":\"Makes a ERC20 deposit to the vault to mint pERC20 over at Incognito Chain\",\"params\":{\"amount\":\": to deposit to the vault and mint on Incognito Chain\",\"incognitoAddress\":\": Incognito Address to receive pERC20\",\"token\":\": address of the ERC20 token\"}},\"deposit_V2(string)\":{\"details\":\"Makes a ETH deposit to the vault to mint pETH over at Incognito Chain\",\"params\":{\"incognitoAddress\":\": Incognito Address to receive pETH\"}},\"execute(address,uint256,address,address,bytes,bytes,bytes)\":{\"details\":\"execute is a general function that plays a role as proxy to interact to other smart contracts.\",\"params\":{\"amount\":\": amount of the token in ethereum's denomination\",\"callData\":\": encoded with signature and params of function from targeting smart contract.\",\"exchangeAddress\":\": address of targeting smart contract that actually executes the desired logics like trade, invest, borrow and so on.\",\"recipientToken\":\": received token address.\",\"signData\":\": signature of an unique data that is signed by an account which is generated from user's incognito privkey\",\"timestamp\":\": unique data generated from client (timestamp for example)\",\"token\":\": ethereum's token address (eg., ETH, DAI, ...)\"}},\"getDecimals(address)\":{\"details\":\"Get the decimals of an ERC20 token, return 0 if it isn't defined We check the returndatasize to covert both cases that the token has and doesn't have the function decimals()\"},\"getDepositedBalance(address,address)\":{\"details\":\"Get the amount of specific coin for specific wallet\"},\"initialize(address)\":{\"details\":\"Creates new Vault to hold assets for Incognito Chain\",\"params\":{\"_prevVault\":\": previous version of the Vault to refer back if necessary After migrating all assets to a new Vault, we still need to refer back to previous Vault to make sure old withdrawals aren't being reused\"}},\"isSigDataUsed(bytes32)\":{\"details\":\"Checks if a sig data has been used before\",\"params\":{\"hash\":\": of the sig data\"},\"returns\":{\"_0\":\"bool: whether the sig data has been used or not\"}},\"isWithdrawed(bytes32)\":{\"details\":\"Checks if a burn proof has been used before\",\"params\":{\"hash\":\": of the burn proof\"},\"returns\":{\"_0\":\"bool: whether the proof has been used or not\"}},\"parseBurnInst(bytes)\":{\"details\":\"Parses a burn instruction and returns the components\",\"params\":{\"inst\":\": the full instruction, containing both metadata and body\"}},\"parseCalldataFromBurnInst(bytes)\":{\"details\":\"Parses an extended burn instruction and returns the components\",\"params\":{\"inst\":\": the full instruction, containing both metadata and body\"}},\"requestWithdraw(string,address,uint256,bytes,bytes)\":{\"details\":\"User requests withdraw token contains in withdrawRequests. Deposit event will be emitted to let incognito recognize and mint new p-tokens for the user.\",\"params\":{\"amount\":\": amount of the token in ethereum's denomination\",\"incognitoAddress\":\": incognito's address that will receive minted p-tokens.\",\"signData\":\": signature of an unique data that is signed by an account which is generated from user's incognito privkey\",\"timestamp\":\": unique data generated from client (timestamp for example)\",\"token\":\": ethereum's token address (eg., ETH, DAI, ...)\"}},\"sigToAddress(bytes,bytes32)\":{\"details\":\"generate address from signature data and hash.\"},\"submitBurnProof(bytes,uint256,bytes32[],bool[],bytes32,bytes32,uint256[],uint8[],bytes32[],bytes32[])\":{\"details\":\"Burnt Proof is submited to store burnt amount of p-token/p-ETH and receiver's address Receiver then can call withdrawRequest to withdraw these token to he/she incognito address.\",\"params\":{\"blkData\":\": merkle has of the block body\",\"heights\":\": the blocks containing the instruction\",\"inst\":\": the decoded instruction as a list of bytes\",\"instPathIsLefts\":\": whether each node on the path is the left or right child\",\"instPaths\":\": merkle path of the instruction\",\"instRoots\":\": root of the merkle tree contains all instructions\",\"sigIdxs\":\": indices of the validators who signed this block\",\"sigRs\":\": part of the signatures of the validators\",\"sigSs\":\": part of the signatures of the validators\",\"sigVs\":\": part of the signatures of the validators\"}},\"updateAssets(address[],uint256[])\":{\"details\":\"Move total number of assets to newVault\",\"params\":{\"amounts\":\": total number of the ERC20 tokens to move, 0x0 for ETH\",\"assets\":\": address of the ERC20 tokens to move, 0x0 for ETH\"}},\"withdraw(bytes,uint256,bytes32[],bool[],bytes32,bytes32,uint256[],uint8[],bytes32[],bytes32[])\":{\"details\":\"Withdraws pETH/pIERC20 by providing a burn proof over at Incognito Chain\",\"params\":{\"blkData\":\": merkle has of the block body\",\"heights\":\": the blocks containing the instruction\",\"inst\":\": the decoded instruction as a list of bytes\",\"instPathIsLefts\":\": whether each node on the path is the left or right child\",\"instPaths\":\": merkle path of the instruction\",\"instRoots\":\": root of the merkle tree contains all instructions\",\"sigIdxs\":\": indices of the validators who signed this block\",\"sigRs\":\": part of the signatures of the validators\",\"sigSs\":\": part of the signatures of the validators\",\"sigVs\":\": part of the signatures of the validators\"}}},\"stateVariables\":{\"CURRENT_NETWORK_ID\":{\"details\":\"Added in Storage Layout version : 2.0\"},\"_INCOGNITO_SLOT\":{\"details\":\"Storage slot with the incognito proxy. This is the keccak-256 hash of \\\"eip1967.proxy.incognito.\\\" subtracted by 1\"},\"withdrawed\":{\"details\":\"Storage variables for Vault This section is APPEND-ONLY, in order to preserve upgradeability since we use Proxy Pattern\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"deposit(string)\":{\"notice\":\"This only works when the contract is not PausedThe maximum amount to deposit is capped since Incognito balance is stored as uint64\"},\"depositERC20(address,uint256,string)\":{\"notice\":\"This only works when the contract is not PausedThe maximum amount to deposit is capped since Incognito balance is stored as uint64Before calling this function, enough ERC20 must be allowed to tranfer from msg.sender to this contract\"},\"depositERC20_V2(address,uint256,string)\":{\"notice\":\"This only works when the contract is not PausedThe maximum amount to deposit is capped since Incognito balance is stored as uint64Before calling this function, enough ERC20 must be allowed to tranfer from msg.sender to this contract\"},\"deposit_V2(string)\":{\"notice\":\"This only works when the contract is not PausedThe maximum amount to deposit is capped since Incognito balance is stored as uint64\"},\"isSigDataUsed(bytes32)\":{\"notice\":\"First, we check inside the storage of this contract itself. If the hash has been used before, we return the result. Otherwise, we query previous vault recursively until the first Vault (prevVault address is 0x0)\"},\"isWithdrawed(bytes32)\":{\"notice\":\"First, we check inside the storage of this contract itself. If the hash has been used before, we return the result. Otherwise, we query previous vault recursively until the first Vault (prevVault address is 0x0)\"},\"submitBurnProof(bytes,uint256,bytes32[],bool[],bytes32,bytes32,uint256[],uint8[],bytes32[],bytes32[])\":{\"notice\":\"This function takes a burn instruction on Incognito Chain, checks for its validity and returns the token back to ETH chainThis only works when the contract is not Paused\"},\"updateAssets(address[],uint256[])\":{\"notice\":\"This only works when the preVault is PausedThis can only be called by preVault\"},\"withdraw(bytes,uint256,bytes32[],bool[],bytes32,bytes32,uint256[],uint8[],bytes32[],bytes32[])\":{\"notice\":\"This function takes a burn instruction on Incognito Chain, checks for its validity and returns the token back to ETH chainThis only works when the contract is not Paused\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/vault_variants/vault_BSC.sol\":\"VaultBSC\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/utils/Address.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.6.2 <0.8.0;\\n\\n/**\\n * @dev Collection of functions related to the address type\\n */\\nlibrary Address {\\n    /**\\n     * @dev Returns true if `account` is a contract.\\n     *\\n     * [IMPORTANT]\\n     * ====\\n     * It is unsafe to assume that an address for which this function returns\\n     * false is an externally-owned account (EOA) and not a contract.\\n     *\\n     * Among others, `isContract` will return false for the following\\n     * types of addresses:\\n     *\\n     *  - an externally-owned account\\n     *  - a contract in construction\\n     *  - an address where a contract will be created\\n     *  - an address where a contract lived, but was destroyed\\n     * ====\\n     */\\n    function isContract(address account) internal view returns (bool) {\\n        // This method relies on extcodesize, which returns 0 for contracts in\\n        // construction, since the code is only stored at the end of the\\n        // constructor execution.\\n\\n        uint256 size;\\n        // solhint-disable-next-line no-inline-assembly\\n        assembly { size := extcodesize(account) }\\n        return size > 0;\\n    }\\n\\n    /**\\n     * @dev Replacement for Solidity's `transfer`: sends `amount` wei to\\n     * `recipient`, forwarding all available gas and reverting on errors.\\n     *\\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\\n     * imposed by `transfer`, making them unable to receive funds via\\n     * `transfer`. {sendValue} removes this limitation.\\n     *\\n     * https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].\\n     *\\n     * IMPORTANT: because control is transferred to `recipient`, care must be\\n     * taken to not create reentrancy vulnerabilities. Consider using\\n     * {ReentrancyGuard} or the\\n     * https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\\n     */\\n    function sendValue(address payable recipient, uint256 amount) internal {\\n        require(address(this).balance >= amount, \\\"Address: insufficient balance\\\");\\n\\n        // solhint-disable-next-line avoid-low-level-calls, avoid-call-value\\n        (bool success, ) = recipient.call{ value: amount }(\\\"\\\");\\n        require(success, \\\"Address: unable to send value, recipient may have reverted\\\");\\n    }\\n\\n    /**\\n     * @dev Performs a Solidity function call using a low level `call`. A\\n     * plain`call` is an unsafe replacement for a function call: use this\\n     * function instead.\\n     *\\n     * If `target` reverts with a revert reason, it is bubbled up by this\\n     * function (like regular Solidity function calls).\\n     *\\n     * Returns the raw returned data. To convert to the expected return value,\\n     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].\\n     *\\n     * Requirements:\\n     *\\n     * - `target` must be a contract.\\n     * - calling `target` with `data` must not revert.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(address target, bytes memory data) internal returns (bytes memory) {\\n      return functionCall(target, data, \\\"Address: low-level call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with\\n     * `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, 0, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but also transferring `value` wei to `target`.\\n     *\\n     * Requirements:\\n     *\\n     * - the calling contract must have an ETH balance of at least `value`.\\n     * - the called Solidity function must be `payable`.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, value, \\\"Address: low-level call with value failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but\\n     * with `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage) internal returns (bytes memory) {\\n        require(address(this).balance >= value, \\\"Address: insufficient balance for call\\\");\\n        require(isContract(target), \\\"Address: call to non-contract\\\");\\n\\n        // solhint-disable-next-line avoid-low-level-calls\\n        (bool success, bytes memory returndata) = target.call{ value: value }(data);\\n        return _verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {\\n        return functionStaticCall(target, data, \\\"Address: low-level static call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(address target, bytes memory data, string memory errorMessage) internal view returns (bytes memory) {\\n        require(isContract(target), \\\"Address: static call to non-contract\\\");\\n\\n        // solhint-disable-next-line avoid-low-level-calls\\n        (bool success, bytes memory returndata) = target.staticcall(data);\\n        return _verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory) {\\n        return functionDelegateCall(target, data, \\\"Address: low-level delegate call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function functionDelegateCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory) {\\n        require(isContract(target), \\\"Address: delegate call to non-contract\\\");\\n\\n        // solhint-disable-next-line avoid-low-level-calls\\n        (bool success, bytes memory returndata) = target.delegatecall(data);\\n        return _verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    function _verifyCallResult(bool success, bytes memory returndata, string memory errorMessage) private pure returns(bytes memory) {\\n        if (success) {\\n            return returndata;\\n        } else {\\n            // Look for revert reason and bubble it up if present\\n            if (returndata.length > 0) {\\n                // The easiest way to bubble the revert reason is using memory via assembly\\n\\n                // solhint-disable-next-line no-inline-assembly\\n                assembly {\\n                    let returndata_size := mload(returndata)\\n                    revert(add(32, returndata), returndata_size)\\n                }\\n            } else {\\n                revert(errorMessage);\\n            }\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x28911e614500ae7c607a432a709d35da25f3bc5ddc8bd12b278b66358070c0ea\",\"license\":\"MIT\"},\"contracts/IERC20.sol\":{\"content\":\"pragma solidity >=0.6.12 <0.7.7;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP. Does not include\\n * the optional functions; to access them see `ERC20Detailed`.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `recipient`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a `Transfer` event.\\n     */\\n    function transfer(address recipient, uint amount) external;\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through `transferFrom`. This is\\n     * zero by default.\\n     *\\n     * This value changes when `approve` or `transferFrom` are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * > Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an `Approval` event.\\n     */\\n    function approve(address spender, uint amount) external;\\n\\n    /**\\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a `Transfer` event.\\n     */\\n    function transferFrom(address sender, address recipient, uint amount) external;\\n\\n    /**\\n     * @dev Returns the number of decimals used to get its user representation.\\n     * For example, if `decimals` equals `2`, a balance of `505` tokens should\\n     * be displayed to a user as `5,05` (`505 / 10 ** 2`).\\n     *\\n     * Tokens usually opt for a value of 18, imitating the relationship between\\n     * Ether and Wei.\\n     *\\n     * NOTE: This information is only used for _display_ purposes: it in\\n     * no way affects any of the arithmetic of the contract, including\\n     * {IERC20-balanceOf} and {IERC20-transfer}.\\n     */\\n    function decimals() external view returns (uint);\\n\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to `approve`. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint value);\\n}\\n\",\"keccak256\":\"0x695c244c7fedf7d0152cd540c66cc402ae8764a56b730b98d82cfe9aca300c15\"},\"contracts/vault.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.6.12;\\npragma experimental ABIEncoderV2;\\n\\nimport \\\"./IERC20.sol\\\";\\n// import \\\"hardhat/console.sol\\\";\\nimport { Address } from \\\"@openzeppelin/contracts/utils/Address.sol\\\";\\n\\n/**\\n * Math operations with safety checks\\n */\\nlibrary SafeMath {\\n  string private constant ERROR_MESSAGE = \\\"SafeMath exception\\\";\\n  function safeMul(uint256 a, uint256 b) internal pure returns (uint256) {\\n    uint256 c = a * b;\\n    require(a == 0 || c / a == b, ERROR_MESSAGE);\\n    return c;\\n  }\\n\\n  function safeDiv(uint256 a, uint256 b) internal pure returns (uint256) {\\n    require(b > 0, ERROR_MESSAGE);\\n    uint256 c = a / b;\\n    require(a == b * c + a % b, ERROR_MESSAGE);\\n    return c;\\n  }\\n\\n  function safeSub(uint256 a, uint256 b) internal pure returns (uint256) {\\n    require(b <= a, ERROR_MESSAGE);\\n    return a - b;\\n  }\\n\\n  function safeAdd(uint256 a, uint256 b) internal pure returns (uint256) {\\n    uint256 c = a + b;\\n    require(c>=a && c>=b, ERROR_MESSAGE);\\n    return c;\\n  }\\n}\\n\\n/**\\n * @title Counters\\n * @author Matt Condon (@shrugs)\\n * @dev Provides counters that can only be incremented or decremented by one. This can be used e.g. to track the number\\n * of elements in a mapping, issuing ERC721 ids, or counting request ids.\\n *\\n * Include with `using Counters for Counters.Counter;`\\n * Since it is not possible to overflow a 256 bit integer with increments of one, `increment` can skip the {SafeMath}\\n * overflow check, thereby saving gas. This does assume however correct usage, in that the underlying `_value` is never\\n * directly accessed.\\n */\\nlibrary Counters {\\n    using SafeMath for uint256;\\n\\n    struct Counter {\\n        // This variable should never be directly accessed by users of the library: interactions must be restricted to\\n        // the library's function. As of Solidity v0.5.2, this cannot be enforced, though there is a proposal to add\\n        // this feature: see https://github.com/ethereum/solidity/issues/4637\\n        uint256 _value; // default: 0\\n    }\\n\\n    function current(Counter storage counter) internal view returns (uint256) {\\n        return counter._value;\\n    }\\n\\n    function increment(Counter storage counter) internal {\\n        // The {SafeMath} overflow check can be skipped here, see the comment at the top\\n        counter._value += 1;\\n    }\\n\\n    function decrement(Counter storage counter) internal {\\n        counter._value = counter._value.safeSub(1);\\n    }\\n}\\n\\n\\n/**\\n * @dev Interface of the contract capable of checking if an instruction is\\n * confirmed over at Incognito Chain\\n */\\ninterface Incognito {\\n    function instructionApproved(\\n        bool,\\n        bytes32,\\n        uint,\\n        bytes32[] calldata,\\n        bool[] calldata,\\n        bytes32,\\n        bytes32,\\n        uint[] calldata,\\n        uint8[] calldata,\\n        bytes32[] calldata,\\n        bytes32[] calldata\\n    ) external view returns (bool);\\n}\\n\\n/**\\n * @dev Interface of the previous Vault contract to query burn proof status\\n */\\ninterface Withdrawable {\\n    function isWithdrawed(bytes32)  external view returns (bool);\\n    function isSigDataUsed(bytes32)  external view returns (bool);\\n    function getDepositedBalance(address, address)  external view returns (uint);\\n    function updateAssets(address[] calldata, uint[] calldata) external returns (bool);\\n    function paused() external view returns (bool);\\n}\\n\\n/**\\n * @dev Responsible for holding the assets and issue minting instruction to\\n * Incognito Chain. Also, when presented with a burn proof created over at\\n * Incognito Chain, releases the tokens back to user\\n */\\ncontract Vault {\\n    using SafeMath for uint;\\n    using Counters for Counters.Counter;\\n    /**\\n     * @dev Storage slot with the incognito proxy.\\n     * This is the keccak-256 hash of \\\"eip1967.proxy.incognito.\\\" subtracted by 1\\n     */\\n    bytes32 private constant _INCOGNITO_SLOT = 0x62135fc083646fdb4e1a9d700e351b886a4a5a39da980650269edd1ade91ffd2;\\n    address constant public ETH_TOKEN = 0x0000000000000000000000000000000000000000;\\n    /**\\n     * @dev Storage variables for Vault\\n     * This section is APPEND-ONLY, in order to preserve upgradeability\\n     * since we use Proxy Pattern\\n     */\\n    mapping(bytes32 => bool) public withdrawed;\\n    mapping(bytes32 => bool) public sigDataUsed;\\n    // address => token => amount\\n    mapping(address => mapping(address => uint)) public withdrawRequests;\\n    mapping(address => mapping(address => bool)) public migration;\\n    mapping(address => uint) public totalDepositedToSCAmount;\\n    Withdrawable public prevVault;\\n    bool public notEntered;\\n    bool public isInitialized;\\n    /**\\n    * @dev Added in Storage Layout version : 2.0\\n    */\\n    uint8 constant public CURRENT_NETWORK_ID = 1; // Ethereum\\n    uint8 constant public BURN_REQUEST_METADATA_TYPE = 241;\\n    uint8 constant public BURN_TO_CONTRACT_REQUEST_METADATA_TYPE = 243;\\n    uint8 constant public BURN_CALL_REQUEST_METADATA_TYPE = 158;\\n    Counters.Counter private idCounter;\\n\\n    /**\\n    * @dev END Storage variables\\n    */\\n\\n    struct BurnInstData {\\n        uint8 meta; // type of the instruction\\n        uint8 shard; // ID of the Incognito shard containing the instruction, must be 1\\n        address token; // ETH address of the token contract (0x0 for ETH)\\n        address payable to; // ETH address of the receiver of the token\\n        uint amount; // burned amount (on Incognito)\\n        bytes32 itx; // Incognito's burning tx\\n    }\\n\\n    struct RedepositOptions {\\n        address redepositToken;\\n        bytes redepositIncAddress;\\n        address payable withdrawAddress;\\n    }\\n\\n    enum Prefix {\\n        ETHEREUM_EXECUTE_SIGNATURE,\\n        ETHEREUM_REQUEST_WITHDRAW_SIGNATURE,\\n        BSC_EXECUTE_SIGNATURE,\\n        BSC_REQUEST_WITHDRAW_SIGNATURE,\\n        PLG_EXECUTE_SIGNATURE,\\n        PLG_REQUEST_WITHDRAW_SIGNATURE,\\n        FTM_EXECUTE_SIGNATURE,\\n        FTM_REQUEST_WITHDRAW_SIGNATURE\\n    }\\n\\n    // error code\\n    enum Errors {\\n        EMPTY,\\n        NO_REENTRANCE,\\n        MAX_UINT_REACHED,\\n        VALUE_OVER_FLOW,\\n        INTERNAL_TX_ERROR,\\n        ALREADY_USED,\\n        INVALID_DATA,\\n        TOKEN_NOT_ENOUGH,\\n        WITHDRAW_REQUEST_TOKEN_NOT_ENOUGH,\\n        INVALID_RETURN_DATA,\\n        NOT_EQUAL,\\n        NULL_VALUE,\\n        ONLY_PREVAULT,\\n        PREVAULT_NOT_PAUSED,\\n        SAFEMATH_EXCEPTION,\\n        ALREADY_INITIALIZED,\\n        INVALID_SIGNATURE,\\n        ALREADY_UPGRADED,\\n        INVALID_DATA_BURN_CALL_INST,\\n        ONLY_SELF_CALL\\n    }\\n\\n    event Deposit(address token, string incognitoAddress, uint amount);\\n    event Withdraw(address token, address to, uint amount);\\n    event UpdateTokenTotal(address[] assets, uint[] amounts);\\n    event UpdateIncognitoProxy(address newIncognitoProxy);\\n    event Redeposit(address token, bytes redepositIncAddress, uint256 amount, bytes32 itx);\\n    event DepositV2(address token, string incognitoAddress, uint amount, uint256 depositID);\\n    event ExecuteFnLog(bytes32 id, uint256 phaseID, bytes errorData);\\n\\n    /**\\n     * modifier for contract version\\n     */\\n     modifier onlyPreVault(){\\n        require(address(prevVault) != address(0x0) && msg.sender == address(prevVault), errorToString(Errors.ONLY_PREVAULT));\\n        _;\\n     }\\n\\n    /**\\n     * @dev Prevents a contract from calling itself, directly or indirectly.\\n     * Calling a `nonReentrant` function from another `nonReentrant`\\n     * function is not supported. It is possible to prevent this from happening\\n     * by making the `nonReentrant` function external, and make it call a\\n     * `private` function that does the actual work.\\n     */\\n    modifier nonReentrant() {\\n        // On the first call to nonReentrant, notEntered will be true\\n        require(notEntered, errorToString(Errors.NO_REENTRANCE));\\n\\n        // Any calls to nonReentrant after this point will fail\\n        notEntered = false;\\n\\n        _;\\n\\n        // By storing the original value once again, a refund is triggered (see\\n        // https://eips.ethereum.org/EIPS/eip-2200)\\n        notEntered = true;\\n    }\\n\\n    /**\\n     * @dev Creates new Vault to hold assets for Incognito Chain\\n     * @param _prevVault: previous version of the Vault to refer back if necessary\\n     * After migrating all assets to a new Vault, we still need to refer\\n     * back to previous Vault to make sure old withdrawals aren't being reused\\n     */\\n    function initialize(address _prevVault) external {\\n        require(!isInitialized, errorToString(Errors.ALREADY_INITIALIZED));\\n        prevVault = Withdrawable(_prevVault);\\n        isInitialized = true;\\n        notEntered = true;\\n    }\\n\\n    /**\\n     * @dev Returns the current incognito proxy.\\n     */\\n    function _incognito() internal view returns (address icg) {\\n        bytes32 slot = _INCOGNITO_SLOT;\\n        // solhint-disable-next-line no-inline-assembly\\n        assembly {\\n            icg := sload(slot)\\n        }\\n    }\\n\\n    /**\\n     * @dev Makes a ETH deposit to the vault to mint pETH over at Incognito Chain\\n     * @notice This only works when the contract is not Paused\\n     * @notice The maximum amount to deposit is capped since Incognito balance is stored as uint64\\n     * @param incognitoAddress: Incognito Address to receive pETH\\n     */\\n    function deposit(string calldata incognitoAddress) external payable nonReentrant {\\n        require(address(this).balance <= 10 ** 27, errorToString(Errors.MAX_UINT_REACHED));\\n        emit Deposit(ETH_TOKEN, incognitoAddress, msg.value);\\n    }\\n\\n    /**\\n     * @dev Makes a ERC20 deposit to the vault to mint pERC20 over at Incognito Chain\\n     * @notice This only works when the contract is not Paused\\n     * @notice The maximum amount to deposit is capped since Incognito balance is stored as uint64\\n     * @notice Before calling this function, enough ERC20 must be allowed to\\n     * tranfer from msg.sender to this contract\\n     * @param token: address of the ERC20 token\\n     * @param amount: to deposit to the vault and mint on Incognito Chain\\n     * @param incognitoAddress: Incognito Address to receive pERC20\\n     */\\n    function depositERC20(address token, uint amount, string calldata incognitoAddress) external nonReentrant {\\n        IERC20 erc20Interface = IERC20(token);\\n        uint8 decimals = getDecimals(address(token));\\n        uint tokenBalance = erc20Interface.balanceOf(address(this));\\n        uint beforeTransfer = tokenBalance;\\n        uint emitAmount = amount;\\n        if (decimals > 9) {\\n            emitAmount = emitAmount / (10 ** (uint(decimals) - 9));\\n            tokenBalance = tokenBalance / (10 ** (uint(decimals) - 9));\\n        }\\n        require(emitAmount <= 10 ** 18 && tokenBalance <= 10 ** 18 && emitAmount.safeAdd(tokenBalance) <= 10 ** 18, errorToString(Errors.VALUE_OVER_FLOW));\\n        erc20Interface.transferFrom(msg.sender, address(this), amount);\\n        require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n        require(balanceOf(token).safeSub(beforeTransfer) == amount, errorToString(Errors.NOT_EQUAL));\\n\\n        emit Deposit(token, incognitoAddress, emitAmount);\\n    }\\n\\n    /**\\n     * @dev Makes a ETH deposit to the vault to mint pETH over at Incognito Chain\\n     * @notice This only works when the contract is not Paused\\n     * @notice The maximum amount to deposit is capped since Incognito balance is stored as uint64\\n     * @param incognitoAddress: Incognito Address to receive pETH\\n     */\\n    function deposit_V2(string calldata incognitoAddress) external payable nonReentrant {\\n        require(address(this).balance <= 10 ** 27, errorToString(Errors.MAX_UINT_REACHED));\\n        emit DepositV2(ETH_TOKEN, incognitoAddress, msg.value, idCounter.current());\\n        idCounter.increment();\\n    }\\n\\n    /**\\n     * @dev Makes a ERC20 deposit to the vault to mint pERC20 over at Incognito Chain\\n     * @notice This only works when the contract is not Paused\\n     * @notice The maximum amount to deposit is capped since Incognito balance is stored as uint64\\n     * @notice Before calling this function, enough ERC20 must be allowed to\\n     * tranfer from msg.sender to this contract\\n     * @param token: address of the ERC20 token\\n     * @param amount: to deposit to the vault and mint on Incognito Chain\\n     * @param incognitoAddress: Incognito Address to receive pERC20\\n     */\\n    function depositERC20_V2(address token, uint amount, string calldata incognitoAddress) external nonReentrant {\\n        IERC20 erc20Interface = IERC20(token);\\n        uint8 decimals = getDecimals(address(token));\\n        uint tokenBalance = erc20Interface.balanceOf(address(this));\\n        uint beforeTransfer = tokenBalance;\\n        uint emitAmount = amount;\\n        if (decimals > 9) {\\n            emitAmount = emitAmount / (10 ** (uint(decimals) - 9));\\n            tokenBalance = tokenBalance / (10 ** (uint(decimals) - 9));\\n        }\\n        require(emitAmount <= 10 ** 18 && tokenBalance <= 10 ** 18 && emitAmount.safeAdd(tokenBalance) <= 10 ** 18, errorToString(Errors.VALUE_OVER_FLOW));\\n        erc20Interface.transferFrom(msg.sender, address(this), amount);\\n        require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n        require(balanceOf(token).safeSub(beforeTransfer) == amount, errorToString(Errors.NOT_EQUAL));\\n\\n        emit DepositV2(token, incognitoAddress, emitAmount, idCounter.current());\\n        idCounter.increment();\\n    }\\n\\n    /**\\n     * @dev Checks if a burn proof has been used before\\n     * @notice First, we check inside the storage of this contract itself. If the\\n     * hash has been used before, we return the result. Otherwise, we query\\n     * previous vault recursively until the first Vault (prevVault address is 0x0)\\n     * @param hash: of the burn proof\\n     * @return bool: whether the proof has been used or not\\n     */\\n    function isWithdrawed(bytes32 hash) public view returns(bool) {\\n        if (withdrawed[hash]) {\\n            return true;\\n        } else if (address(prevVault) == address(0)) {\\n            return false;\\n        }\\n        return prevVault.isWithdrawed(hash);\\n    }\\n\\n    /**\\n     * @dev Parses a burn instruction and returns the components\\n     * @param inst: the full instruction, containing both metadata and body\\n     */\\n    function parseBurnInst(bytes memory inst) public pure returns (BurnInstData memory) {\\n        BurnInstData memory data;\\n        data.meta = uint8(inst[0]);\\n        data.shard = uint8(inst[1]);\\n        address token;\\n        address payable to;\\n        uint amount;\\n        bytes32 itx;\\n        assembly {\\n            // skip first 0x20 bytes (stored length of inst)\\n            token := mload(add(inst, 0x22)) // [3:34]\\n            to := mload(add(inst, 0x42)) // [34:66]\\n            amount := mload(add(inst, 0x62)) // [66:98]\\n            itx := mload(add(inst, 0x82)) // [98:130]\\n        }\\n        data.token = token;\\n        data.to = to;\\n        data.amount = amount;\\n        data.itx = itx;\\n        return data;\\n    }\\n\\n    /**\\n     * @dev Parses an extended burn instruction and returns the components\\n     * @param inst: the full instruction, containing both metadata and body\\n     */\\n    function parseCalldataFromBurnInst(bytes calldata inst) public pure returns (BurnInstData memory, RedepositOptions memory, bytes memory) {\\n        require(inst.length >= 296, errorToString(Errors.INVALID_DATA_BURN_CALL_INST));\\n        BurnInstData memory bdata;\\n        // layout: meta(1), shard(1), network(1), extToken(32), extCallAddr(32), amount(32), txID(32), recvToken(32), withdrawAddr(32), redepositAddr(101), extCalldata(*)\\n        {\\n            bdata.meta = uint8(inst[0]);\\n            bdata.shard = uint8(inst[1]);\\n            uint8 networkID = uint8(inst[2]);\\n            require(bdata.meta == BURN_CALL_REQUEST_METADATA_TYPE && bdata.shard == 1 && networkID == CURRENT_NETWORK_ID, errorToString(Errors.INVALID_DATA_BURN_CALL_INST));\\n        }\\n        RedepositOptions memory opt;\\n        {\\n            (bdata.token, bdata.to, bdata.amount, bdata.itx, opt.redepositToken, opt.withdrawAddress) = abi.decode(inst[3:195], (address, address, uint256, bytes32, address, address));\\n        }\\n    \\n        opt.redepositIncAddress = bytes(inst[195:296]);\\n        return (bdata, opt, bytes(inst[296:]));\\n    }\\n\\n    /**\\n     * @dev Verifies that a burn instruction is valid\\n     * @notice All params except inst are the list of 2 elements corresponding to\\n     * the proof on beacon and bridge\\n     * @notice All params are the same as in `withdraw`\\n     */\\n    function verifyInst(\\n        bytes memory inst,\\n        uint heights,\\n        bytes32[] memory instPaths,\\n        bool[] memory instPathIsLefts,\\n        bytes32 instRoots,\\n        bytes32 blkData,\\n        uint[] memory sigIdxs,\\n        uint8[] memory sigVs,\\n        bytes32[] memory sigRs,\\n        bytes32[] memory sigSs\\n    ) view internal {\\n        // Each instruction can only by redeemed once\\n        bytes32 beaconInstHash = keccak256(abi.encodePacked(inst, heights));\\n\\n        // Verify instruction on beacon\\n        require(Incognito(_incognito()).instructionApproved(\\n            true, // Only check instruction on beacon\\n            beaconInstHash,\\n            heights,\\n            instPaths,\\n            instPathIsLefts,\\n            instRoots,\\n            blkData,\\n            sigIdxs,\\n            sigVs,\\n            sigRs,\\n            sigSs\\n        ), errorToString(Errors.INVALID_DATA));\\n    }\\n\\n    /**\\n     * @dev Withdraws pETH/pIERC20 by providing a burn proof over at Incognito Chain\\n     * @notice This function takes a burn instruction on Incognito Chain, checks\\n     * for its validity and returns the token back to ETH chain\\n     * @notice This only works when the contract is not Paused\\n     * @param inst: the decoded instruction as a list of bytes\\n     * @param heights: the blocks containing the instruction\\n     * @param instPaths: merkle path of the instruction\\n     * @param instPathIsLefts: whether each node on the path is the left or right child\\n     * @param instRoots: root of the merkle tree contains all instructions\\n     * @param blkData: merkle has of the block body\\n     * @param sigIdxs: indices of the validators who signed this block\\n     * @param sigVs: part of the signatures of the validators\\n     * @param sigRs: part of the signatures of the validators\\n     * @param sigSs: part of the signatures of the validators\\n     */\\n    function withdraw(\\n        bytes memory inst,\\n        uint heights,\\n        bytes32[] memory instPaths,\\n        bool[] memory instPathIsLefts,\\n        bytes32 instRoots,\\n        bytes32 blkData,\\n        uint[] memory sigIdxs,\\n        uint8[] memory sigVs,\\n        bytes32[] memory sigRs,\\n        bytes32[] memory sigSs\\n    ) public nonReentrant {\\n        require(inst.length >= 130, errorToString(Errors.INVALID_DATA));\\n        BurnInstData memory data = parseBurnInst(inst);\\n        require(data.meta == BURN_REQUEST_METADATA_TYPE && data.shard == 1, errorToString(Errors.INVALID_DATA)); // Check instruction type\\n\\n        // Not withdrawed\\n        require(!isWithdrawed(data.itx), errorToString(Errors.ALREADY_USED));\\n        withdrawed[data.itx] = true;\\n\\n        // Check if balance is enough\\n        if (data.token == ETH_TOKEN) {\\n            require(address(this).balance >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        } else {\\n            uint8 decimals = getDecimals(data.token);\\n            if (decimals > 9) {\\n                data.amount = data.amount.safeMul(10 ** (uint(decimals) - 9));\\n            }\\n            require(IERC20(data.token).balanceOf(address(this)) >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        }\\n\\n        verifyInst(\\n            inst,\\n            heights,\\n            instPaths,\\n            instPathIsLefts,\\n            instRoots,\\n            blkData,\\n            sigIdxs,\\n            sigVs,\\n            sigRs,\\n            sigSs\\n        );\\n\\n        // Send and notify\\n        if (data.token == ETH_TOKEN) {\\n            (bool success, ) =  data.to.call{value: data.amount}(\\\"\\\");        \\n            require(success, errorToString(Errors.INTERNAL_TX_ERROR));\\n        } else {\\n            IERC20(data.token).transfer(data.to, data.amount);\\n            require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n        }\\n        emit Withdraw(data.token, data.to, data.amount);\\n    }\\n\\n    function executeWithBurnProof(\\n        bytes calldata inst,\\n        uint heights,\\n        bytes32[] memory instPaths,\\n        bool[] memory instPathIsLefts,\\n        bytes32 instRoots,\\n        bytes32 blkData,\\n        uint[] memory sigIdxs,\\n        uint8[] memory sigVs,\\n        bytes32[] memory sigRs,\\n        bytes32[] memory sigSs\\n    ) external nonReentrant {\\n        (BurnInstData memory data, RedepositOptions memory rOptions, bytes memory externalCalldata) = parseCalldataFromBurnInst(inst); // parse function also does sanity checks\\n        require(!isWithdrawed(data.itx), errorToString(Errors.ALREADY_USED)); // check if txID has been used previously\\n        withdrawed[data.itx] = true;\\n        // check if vault balance is sufficient\\n        if (data.token == ETH_TOKEN) {\\n            require(address(this).balance >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        } else {\\n            uint8 decimals = getDecimals(data.token);\\n            if (decimals > 9) {\\n                data.amount = data.amount.safeMul(10 ** (uint(decimals) - 9));\\n            }\\n            require(IERC20(data.token).balanceOf(address(this)) >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        }\\n\\n        verifyInst(\\n            inst,\\n            heights,\\n            instPaths,\\n            instPathIsLefts,\\n            instRoots,\\n            blkData,\\n            sigIdxs,\\n            sigVs,\\n            sigRs,\\n            sigSs\\n        );\\n\\n\\n        // perform external msgcall\\n        try this._callExternal(data.token, data.to, data.amount, externalCalldata, rOptions.redepositToken) returns (uint256 returnedAmount) {\\n            if (rOptions.withdrawAddress == address(0)) {\\n                // after executing, one can redeposit to Incognito Chain\\n                _redeposit(rOptions.redepositToken, rOptions.redepositIncAddress, returnedAmount, data.itx);\\n            } else {\\n                // alternatively, the received funds can be withdrawn\\n                try this._transferExternal(rOptions.redepositToken, rOptions.withdrawAddress, returnedAmount) {\\n                    emit Withdraw(rOptions.redepositToken, rOptions.withdrawAddress, returnedAmount);\\n                } catch (bytes memory lowLevelData) {\\n                    // upon revert, emit Redeposit event\\n                    _redeposit(rOptions.redepositToken, rOptions.redepositIncAddress, returnedAmount, data.itx);\\n                    emit ExecuteFnLog(data.itx, 1, lowLevelData);\\n                    return;\\n                }\\n            }\\n        } catch (bytes memory lowLevelData) {\\n            _redeposit(data.token, rOptions.redepositIncAddress, data.amount, data.itx);\\n            emit ExecuteFnLog(data.itx, 0, lowLevelData);\\n            return;\\n        }\\n    }\\n\\n    function _redeposit(address token, bytes memory redepositIncAddress, uint256 amount, bytes32 itx) internal {\\n        uint emitAmount = amount;\\n        if (token == ETH_TOKEN) {\\n            require(address(this).balance <= 10 ** 27, errorToString(Errors.MAX_UINT_REACHED));\\n        } else {\\n            uint8 decimals = getDecimals(address(token));\\n            if (decimals > 9) {\\n                emitAmount = emitAmount / (10 ** (uint(decimals) - 9));\\n            }\\n            require(emitAmount <= 10 ** 18, errorToString(Errors.VALUE_OVER_FLOW));\\n        }\\n        emit Redeposit(token, redepositIncAddress, emitAmount, itx);\\n    }\\n\\n    function _transferExternal(address token, address payable to, uint256 amount) external onlySelf() {\\n        if (token == ETH_TOKEN) {\\n            Address.sendValue(to, amount);\\n        } else {\\n            IERC20(token).transfer(to, amount);\\n            require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n        }\\n    }\\n\\n    function _callExternal(address token, address to, uint256 amount, bytes memory externalCalldata, address redepositToken) external onlySelf() returns (uint256) {\\n        uint balanceBeforeTrade = balanceOf(redepositToken);\\n        bytes memory result;\\n        if (token == ETH_TOKEN) {\\n            result = Address.functionCallWithValue(to, externalCalldata, amount);\\n        } else {\\n            IERC20(token).transfer(to, amount);\\n            require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n            result = Address.functionCall(to, externalCalldata);\\n        }\\n        require(result.length == 64, errorToString(Errors.INVALID_RETURN_DATA));\\n        (address returnedTokenAddress, uint returnedAmount) = abi.decode(result, (address, uint));\\n        require(returnedTokenAddress == redepositToken && balanceOf(redepositToken).safeSub(balanceBeforeTrade) == returnedAmount, errorToString(Errors.INVALID_RETURN_DATA));\\n        return returnedAmount;\\n    }\\n\\n    modifier onlySelf() {\\n        require(address(this) == msg.sender, errorToString(Errors.ONLY_SELF_CALL));\\n        _;\\n    }\\n\\n    /**\\n     * @dev Burnt Proof is submited to store burnt amount of p-token/p-ETH and receiver's address\\n     * Receiver then can call withdrawRequest to withdraw these token to he/she incognito address.\\n     * @notice This function takes a burn instruction on Incognito Chain, checks\\n     * for its validity and returns the token back to ETH chain\\n     * @notice This only works when the contract is not Paused\\n     * @param inst: the decoded instruction as a list of bytes\\n     * @param heights: the blocks containing the instruction\\n     * @param instPaths: merkle path of the instruction\\n     * @param instPathIsLefts: whether each node on the path is the left or right child\\n     * @param instRoots: root of the merkle tree contains all instructions\\n     * @param blkData: merkle has of the block body\\n     * @param sigIdxs: indices of the validators who signed this block\\n     * @param sigVs: part of the signatures of the validators\\n     * @param sigRs: part of the signatures of the validators\\n     * @param sigSs: part of the signatures of the validators\\n     */\\n    function submitBurnProof(\\n        bytes memory inst,\\n        uint heights,\\n        bytes32[] memory instPaths,\\n        bool[] memory instPathIsLefts,\\n        bytes32 instRoots,\\n        bytes32 blkData,\\n        uint[] memory sigIdxs,\\n        uint8[] memory sigVs,\\n        bytes32[] memory sigRs,\\n        bytes32[] memory sigSs\\n    ) public nonReentrant {\\n        require(inst.length >= 130, errorToString(Errors.INVALID_DATA));\\n        BurnInstData memory data = parseBurnInst(inst);\\n        require(data.meta == BURN_TO_CONTRACT_REQUEST_METADATA_TYPE && data.shard == 1, errorToString(Errors.INVALID_DATA)); // Check instruction type\\n\\n        // Not withdrawed\\n        require(!isWithdrawed(data.itx), errorToString(Errors.ALREADY_USED));\\n        withdrawed[data.itx] = true;\\n\\n        // Check if balance is enough\\n        if (data.token == ETH_TOKEN) {\\n            require(address(this).balance >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        } else {\\n            uint8 decimals = getDecimals(data.token);\\n            if (decimals > 9) {\\n                data.amount = data.amount.safeMul(10 ** (uint(decimals) - 9));\\n            }\\n            require(IERC20(data.token).balanceOf(address(this)) >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        }\\n\\n        verifyInst(\\n            inst,\\n            heights,\\n            instPaths,\\n            instPathIsLefts,\\n            instRoots,\\n            blkData,\\n            sigIdxs,\\n            sigVs,\\n            sigRs,\\n            sigSs\\n        );\\n\\n        withdrawRequests[data.to][data.token] = withdrawRequests[data.to][data.token].safeAdd(data.amount);\\n        totalDepositedToSCAmount[data.token] = totalDepositedToSCAmount[data.token].safeAdd(data.amount);\\n    }\\n\\n    /**\\n     * @dev generate address from signature data and hash.\\n     */\\n    function sigToAddress(bytes memory signData, bytes32 hash) public pure returns (address) {\\n        bytes32 s;\\n        bytes32 r;\\n        uint8 v;\\n        assembly {\\n            r := mload(add(signData, 0x20))\\n            s := mload(add(signData, 0x40))\\n        }\\n        v = uint8(signData[64]) + 27;\\n        return ecrecover(hash, v, r, s);\\n    }\\n\\n    /**\\n     * @dev Checks if a sig data has been used before\\n     * @notice First, we check inside the storage of this contract itself. If the\\n     * hash has been used before, we return the result. Otherwise, we query\\n     * previous vault recursively until the first Vault (prevVault address is 0x0)\\n     * @param hash: of the sig data\\n     * @return bool: whether the sig data has been used or not\\n     */\\n    function isSigDataUsed(bytes32 hash) public view returns(bool) {\\n        if (sigDataUsed[hash]) {\\n            return true;\\n        } else if (address(prevVault) == address(0)) {\\n            return false;\\n        }\\n        return prevVault.isSigDataUsed(hash);\\n    }\\n\\n    struct PreSignData {\\n        Prefix prefix;\\n        address token;\\n        bytes timestamp;\\n        uint amount;\\n    }\\n\\n    function newPreSignData(Prefix prefix, address token, bytes calldata timestamp, uint amount) pure internal returns (PreSignData memory) {\\n        PreSignData memory psd = PreSignData(prefix, token, timestamp, amount);\\n        return psd;\\n    }\\n\\n    /**\\n     * @dev User requests withdraw token contains in withdrawRequests.\\n     * Deposit event will be emitted to let incognito recognize and mint new p-tokens for the user.\\n     * @param incognitoAddress: incognito's address that will receive minted p-tokens.\\n     * @param token: ethereum's token address (eg., ETH, DAI, ...)\\n     * @param amount: amount of the token in ethereum's denomination\\n     * @param signData: signature of an unique data that is signed by an account which is generated from user's incognito privkey\\n     * @param timestamp: unique data generated from client (timestamp for example)\\n     */\\n    function requestWithdraw(\\n        string calldata incognitoAddress,\\n        address token,\\n        uint amount,\\n        bytes calldata signData,\\n        bytes calldata timestamp\\n    ) external nonReentrant {\\n        // verify owner signs data\\n        address verifier = verifySignData(abi.encode(newPreSignData(Prefix.ETHEREUM_REQUEST_WITHDRAW_SIGNATURE, token, timestamp, amount), incognitoAddress), signData);\\n\\n        // migrate from preVault\\n        migrateBalance(verifier, token);\\n\\n        require(withdrawRequests[verifier][token] >= amount, errorToString(Errors.WITHDRAW_REQUEST_TOKEN_NOT_ENOUGH));\\n        withdrawRequests[verifier][token] = withdrawRequests[verifier][token].safeSub(amount);\\n        totalDepositedToSCAmount[token] = totalDepositedToSCAmount[token].safeSub(amount);\\n\\n        // convert denomination from ethereum's to incognito's (pcoin)\\n        uint emitAmount = amount;\\n        if (token != ETH_TOKEN) {\\n            uint8 decimals = getDecimals(token);\\n            if (decimals > 9) {\\n                emitAmount = amount / (10 ** (uint(decimals) - 9));\\n            }\\n        }\\n\\n        emit Deposit(token, incognitoAddress, emitAmount);\\n    }\\n\\n    /**\\n     * @dev execute is a general function that plays a role as proxy to interact to other smart contracts.\\n     * @param token: ethereum's token address (eg., ETH, DAI, ...)\\n     * @param amount: amount of the token in ethereum's denomination\\n     * @param recipientToken: received token address.\\n     * @param exchangeAddress: address of targeting smart contract that actually executes the desired logics like trade, invest, borrow and so on.\\n     * @param callData: encoded with signature and params of function from targeting smart contract.\\n     * @param timestamp: unique data generated from client (timestamp for example)\\n     * @param signData: signature of an unique data that is signed by an account which is generated from user's incognito privkey\\n     */\\n    function execute(\\n        address token,\\n        uint amount,\\n        address recipientToken,\\n        address exchangeAddress,\\n        bytes calldata callData,\\n        bytes calldata timestamp,\\n        bytes calldata signData\\n    ) external payable nonReentrant {\\n        //verify ower signs data from input\\n        address verifier = verifySignData(abi.encode(newPreSignData(Prefix.ETHEREUM_EXECUTE_SIGNATURE, token, timestamp, amount), recipientToken, exchangeAddress, callData), signData);\\n\\n        // migrate from preVault\\n        migrateBalance(verifier, token);\\n        require(withdrawRequests[verifier][token] >= amount, errorToString(Errors.WITHDRAW_REQUEST_TOKEN_NOT_ENOUGH));\\n\\n        // update balance of verifier\\n        totalDepositedToSCAmount[token] = totalDepositedToSCAmount[token].safeSub(amount);\\n        withdrawRequests[verifier][token] = withdrawRequests[verifier][token].safeSub(amount);\\n\\n        // define number of eth spent for forwarder.\\n        uint ethAmount = msg.value;\\n        if (token == ETH_TOKEN) {\\n            ethAmount = ethAmount.safeAdd(amount);\\n        } else {\\n            // transfer token to exchangeAddress.\\n            require(IERC20(token).balanceOf(address(this)) >= amount, errorToString(Errors.TOKEN_NOT_ENOUGH));\\n            IERC20(token).transfer(exchangeAddress, amount);\\n            require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n        }\\n        uint returnedAmount = callExtFunc(recipientToken, ethAmount, callData, exchangeAddress);\\n\\n        // update withdrawRequests\\n        withdrawRequests[verifier][recipientToken] = withdrawRequests[verifier][recipientToken].safeAdd(returnedAmount);\\n        totalDepositedToSCAmount[recipientToken] = totalDepositedToSCAmount[recipientToken].safeAdd(returnedAmount);\\n    }\\n\\n    /**\\n     * @dev single trade\\n     */\\n    function callExtFunc(address recipientToken, uint ethAmount, bytes memory callData, address exchangeAddress) internal returns (uint) {\\n         // get balance of recipient token before trade to compare after trade.\\n        uint balanceBeforeTrade = balanceOf(recipientToken);\\n        if (recipientToken == ETH_TOKEN) {\\n            balanceBeforeTrade = balanceBeforeTrade.safeSub(msg.value);\\n        }\\n        require(address(this).balance >= ethAmount, errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        (bool success, bytes memory result) = exchangeAddress.call{value: ethAmount}(callData);\\n        require(success, errorToString(Errors.INTERNAL_TX_ERROR));\\n\\n        (address returnedTokenAddress, uint returnedAmount) = abi.decode(result, (address, uint));\\n        require(returnedTokenAddress == recipientToken && balanceOf(recipientToken).safeSub(balanceBeforeTrade) == returnedAmount, errorToString(Errors.INVALID_RETURN_DATA));\\n\\n        return returnedAmount;\\n    }\\n\\n    /**\\n     * @dev verify sign data\\n     */\\n     function verifySignData(bytes memory data, bytes memory signData) internal returns(address){\\n        bytes32 hash = keccak256(data);\\n        require(!isSigDataUsed(hash), errorToString(Errors.ALREADY_USED));\\n        address verifier = sigToAddress(signData, hash);\\n        // reject when verifier equals zero\\n        require(verifier != address(0x0), errorToString(Errors.INVALID_SIGNATURE));\\n        // mark data hash of sig as used\\n        sigDataUsed[hash] = true;\\n\\n        return verifier;\\n     }\\n\\n    /**\\n      * @dev migrate balance from previous vault\\n      * Note: uncomment for next version\\n      */\\n    function migrateBalance(address owner, address token) internal {\\n        if (address(prevVault) != address(0x0) && !migration[owner][token]) {\\n            withdrawRequests[owner][token] = withdrawRequests[owner][token].safeAdd(prevVault.getDepositedBalance(token, owner));\\n  \\t        migration[owner][token] = true;\\n  \\t   }\\n    }\\n\\n    /**\\n     * @dev Get the amount of specific coin for specific wallet\\n     */\\n    function getDepositedBalance(\\n        address token,\\n        address owner\\n    ) public view returns (uint) {\\n        if (address(prevVault) != address(0x0) && !migration[owner][token]) {\\n \\t        return withdrawRequests[owner][token].safeAdd(prevVault.getDepositedBalance(token, owner));\\n \\t    }\\n        return withdrawRequests[owner][token];\\n    }\\n\\n    /**\\n     * @dev Move total number of assets to newVault\\n     * @notice This only works when the preVault is Paused\\n     * @notice This can only be called by preVault\\n     * @param assets: address of the ERC20 tokens to move, 0x0 for ETH\\n     * @param amounts: total number of the ERC20 tokens to move, 0x0 for ETH\\n     */\\n    function updateAssets(address[] calldata assets, uint[] calldata amounts) external onlyPreVault returns(bool) {\\n        require(assets.length == amounts.length,  errorToString(Errors.NOT_EQUAL));\\n        require(Withdrawable(prevVault).paused(), errorToString(Errors.PREVAULT_NOT_PAUSED));\\n        for (uint i = 0; i < assets.length; i++) {\\n            totalDepositedToSCAmount[assets[i]] = totalDepositedToSCAmount[assets[i]].safeAdd(amounts[i]);\\n        }\\n        emit UpdateTokenTotal(assets, amounts);\\n\\n        return true;\\n    }\\n\\n    /**\\n     * @dev Payable receive function to receive Ether from oldVault when migrating\\n     */\\n    receive() external payable {}\\n\\n    /**\\n     * @dev Check if transfer() and transferFrom() of ERC20 succeeded or not\\n     * This check is needed to fix https://github.com/ethereum/solidity/issues/4116\\n     * This function is copied from https://github.com/AdExNetwork/adex-protocol-eth/blob/master/contracts/libs/SafeERC20.sol\\n     */\\n    function checkSuccess() private pure returns (bool) {\\n\\t\\tuint256 returnValue = 0;\\n\\t\\tassembly {\\n\\t\\t\\t// check number of bytes returned from last function call\\n\\t\\t\\tswitch returndatasize()\\n\\n\\t\\t\\t// no bytes returned: assume success\\n\\t\\t\\tcase 0x0 {\\n\\t\\t\\t\\treturnValue := 1\\n\\t\\t\\t}\\n\\n\\t\\t\\t// 32 bytes returned: check if non-zero\\n\\t\\t\\tcase 0x20 {\\n\\t\\t\\t\\t// copy 32 bytes into scratch space\\n\\t\\t\\t\\treturndatacopy(0x0, 0x0, 0x20)\\n\\n\\t\\t\\t\\t// load those bytes into returnValue\\n\\t\\t\\t\\treturnValue := mload(0x0)\\n\\t\\t\\t}\\n\\n\\t\\t\\t// not sure what was returned: don't mark as success\\n\\t\\t\\tdefault { }\\n\\t\\t}\\n\\t\\treturn returnValue != 0;\\n\\t}\\n\\n    /**\\n     * @dev convert enum to string value\\n     */\\n     function errorToString(Errors error) internal pure returns(string memory) {\\n        uint8 erroNum = uint8(error);\\n        uint maxlength = 10;\\n        bytes memory reversed = new bytes(maxlength);\\n        uint i = 0;\\n        while (erroNum != 0) {\\n            uint8 remainder = erroNum % 10;\\n            erroNum = erroNum / 10;\\n            reversed[i++] = byte(48 + remainder);\\n        }\\n        bytes memory s = new bytes(i + 1);\\n        for (uint j = 0; j <= i; j++) {\\n            s[j] = reversed[i - j];\\n        }\\n        return string(s);\\n    }\\n\\n    /**\\n     * @dev Get the decimals of an ERC20 token, return 0 if it isn't defined\\n     * We check the returndatasize to covert both cases that the token has\\n     * and doesn't have the function decimals()\\n     */\\n    function getDecimals(address token) public view returns (uint8) {\\n        require(Address.isContract(token), \\\"getDecimals non-contract\\\");\\n        IERC20 erc20 = IERC20(token);\\n        try erc20.decimals() returns (uint256 d) {\\n            return uint8(d);    \\n        } catch {\\n            revert(\\\"get ERC20 decimal failed\\\");\\n        }\\n    }\\n\\n    /**\\n     * @dev Get the amount of coin deposited to this smartcontract\\n     */\\n    function balanceOf(address token) public view returns (uint) {\\n        if (token == ETH_TOKEN) {\\n            return address(this).balance;\\n        }\\n        require(Address.isContract(token), \\\"balanceOf non-contract\\\");\\n        try IERC20(token).balanceOf(address(this)) returns (uint256 b) {\\n            return b;\\n        } catch {\\n            revert(\\\"get ERC20 balance failed\\\");\\n        }\\n    }\\n}\",\"keccak256\":\"0x6859f8e3118ec214e5cfc366bcbe9e841391641745e830d0782cc2bb42b795f1\",\"license\":\"MIT\"},\"contracts/vault_variants/vault_BSC.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.6.12;\\npragma experimental ABIEncoderV2;\\n\\nimport \\\"../IERC20.sol\\\";\\nimport { Address } from \\\"@openzeppelin/contracts/utils/Address.sol\\\";\\nimport { SafeMath, Counters, Incognito, Withdrawable } from \\\"../vault.sol\\\";\\n\\ncontract VaultBSC {\\n    using SafeMath for uint;\\n    using Counters for Counters.Counter;\\n    /**\\n     * @dev Storage slot with the incognito proxy.\\n     * This is the keccak-256 hash of \\\"eip1967.proxy.incognito.\\\" subtracted by 1\\n     */\\n    bytes32 private constant _INCOGNITO_SLOT = 0x62135fc083646fdb4e1a9d700e351b886a4a5a39da980650269edd1ade91ffd2;\\n    address constant public ETH_TOKEN = 0x0000000000000000000000000000000000000000;\\n    /**\\n     * @dev Storage variables for Vault\\n     * This section is APPEND-ONLY, in order to preserve upgradeability\\n     * since we use Proxy Pattern\\n     */\\n    mapping(bytes32 => bool) public withdrawed;\\n    mapping(bytes32 => bool) public sigDataUsed;\\n    // address => token => amount\\n    mapping(address => mapping(address => uint)) public withdrawRequests;\\n    mapping(address => mapping(address => bool)) public migration;\\n    mapping(address => uint) public totalDepositedToSCAmount;\\n    Withdrawable public prevVault;\\n    bool public notEntered;\\n    bool public isInitialized;\\n    /**\\n    * @dev Added in Storage Layout version : 2.0\\n    */\\n    uint8 constant public CURRENT_NETWORK_ID = 2; // BSC\\n    uint8 constant public BURN_REQUEST_METADATA_TYPE = 253;\\n    uint8 constant public BURN_TO_CONTRACT_REQUEST_METADATA_TYPE = 255;\\n    uint8 constant public BURN_CALL_REQUEST_METADATA_TYPE = 158;\\n    Counters.Counter private idCounter;\\n\\n    /**\\n    * @dev END Storage variables\\n    */\\n\\n    struct BurnInstData {\\n        uint8 meta; // type of the instruction\\n        uint8 shard; // ID of the Incognito shard containing the instruction, must be 1\\n        address token; // ETH address of the token contract (0x0 for ETH)\\n        address payable to; // ETH address of the receiver of the token\\n        uint amount; // burned amount (on Incognito)\\n        bytes32 itx; // Incognito's burning tx\\n    }\\n\\n    struct RedepositOptions {\\n        address redepositToken;\\n        bytes redepositIncAddress;\\n        address payable withdrawAddress;\\n    }\\n\\n    enum Prefix {\\n        ETHEREUM_EXECUTE_SIGNATURE,\\n        ETHEREUM_REQUEST_WITHDRAW_SIGNATURE,\\n        BSC_EXECUTE_SIGNATURE,\\n        BSC_REQUEST_WITHDRAW_SIGNATURE,\\n        PLG_EXECUTE_SIGNATURE,\\n        PLG_REQUEST_WITHDRAW_SIGNATURE,\\n        FTM_EXECUTE_SIGNATURE,\\n        FTM_REQUEST_WITHDRAW_SIGNATURE\\n    }\\n\\n    // error code\\n    enum Errors {\\n        EMPTY,\\n        NO_REENTRANCE,\\n        MAX_UINT_REACHED,\\n        VALUE_OVER_FLOW,\\n        INTERNAL_TX_ERROR,\\n        ALREADY_USED,\\n        INVALID_DATA,\\n        TOKEN_NOT_ENOUGH,\\n        WITHDRAW_REQUEST_TOKEN_NOT_ENOUGH,\\n        INVALID_RETURN_DATA,\\n        NOT_EQUAL,\\n        NULL_VALUE,\\n        ONLY_PREVAULT,\\n        PREVAULT_NOT_PAUSED,\\n        SAFEMATH_EXCEPTION,\\n        ALREADY_INITIALIZED,\\n        INVALID_SIGNATURE,\\n        ALREADY_UPGRADED,\\n        INVALID_DATA_BURN_CALL_INST,\\n        ONLY_SELF_CALL\\n    }\\n\\n    event Deposit(address token, string incognitoAddress, uint amount);\\n    event Withdraw(address token, address to, uint amount);\\n    event UpdateTokenTotal(address[] assets, uint[] amounts);\\n    event UpdateIncognitoProxy(address newIncognitoProxy);\\n    event Redeposit(address token, bytes redepositIncAddress, uint256 amount, bytes32 itx);\\n    event DepositV2(address token, string incognitoAddress, uint amount, uint256 depositID);\\n    event ExecuteFnLog(bytes32 id, uint256 phaseID, bytes errorData);\\n\\n    /**\\n     * modifier for contract version\\n     */\\n     modifier onlyPreVault(){\\n        require(address(prevVault) != address(0x0) && msg.sender == address(prevVault), errorToString(Errors.ONLY_PREVAULT));\\n        _;\\n     }\\n\\n    /**\\n     * @dev Prevents a contract from calling itself, directly or indirectly.\\n     * Calling a `nonReentrant` function from another `nonReentrant`\\n     * function is not supported. It is possible to prevent this from happening\\n     * by making the `nonReentrant` function external, and make it call a\\n     * `private` function that does the actual work.\\n     */\\n    modifier nonReentrant() {\\n        // On the first call to nonReentrant, notEntered will be true\\n        require(notEntered, errorToString(Errors.NO_REENTRANCE));\\n\\n        // Any calls to nonReentrant after this point will fail\\n        notEntered = false;\\n\\n        _;\\n\\n        // By storing the original value once again, a refund is triggered (see\\n        // https://eips.ethereum.org/EIPS/eip-2200)\\n        notEntered = true;\\n    }\\n\\n    /**\\n     * @dev Creates new Vault to hold assets for Incognito Chain\\n     * @param _prevVault: previous version of the Vault to refer back if necessary\\n     * After migrating all assets to a new Vault, we still need to refer\\n     * back to previous Vault to make sure old withdrawals aren't being reused\\n     */\\n    function initialize(address _prevVault) external {\\n        require(!isInitialized, errorToString(Errors.ALREADY_INITIALIZED));\\n        prevVault = Withdrawable(_prevVault);\\n        isInitialized = true;\\n        notEntered = true;\\n    }\\n\\n    /**\\n     * @dev Returns the current incognito proxy.\\n     */\\n    function _incognito() internal view returns (address icg) {\\n        bytes32 slot = _INCOGNITO_SLOT;\\n        // solhint-disable-next-line no-inline-assembly\\n        assembly {\\n            icg := sload(slot)\\n        }\\n    }\\n\\n    /**\\n     * @dev Makes a ETH deposit to the vault to mint pETH over at Incognito Chain\\n     * @notice This only works when the contract is not Paused\\n     * @notice The maximum amount to deposit is capped since Incognito balance is stored as uint64\\n     * @param incognitoAddress: Incognito Address to receive pETH\\n     */\\n    function deposit(string calldata incognitoAddress) external payable nonReentrant {\\n        require(address(this).balance <= 10 ** 27, errorToString(Errors.MAX_UINT_REACHED));\\n        emit Deposit(ETH_TOKEN, incognitoAddress, msg.value);\\n    }\\n\\n    /**\\n     * @dev Makes a ERC20 deposit to the vault to mint pERC20 over at Incognito Chain\\n     * @notice This only works when the contract is not Paused\\n     * @notice The maximum amount to deposit is capped since Incognito balance is stored as uint64\\n     * @notice Before calling this function, enough ERC20 must be allowed to\\n     * tranfer from msg.sender to this contract\\n     * @param token: address of the ERC20 token\\n     * @param amount: to deposit to the vault and mint on Incognito Chain\\n     * @param incognitoAddress: Incognito Address to receive pERC20\\n     */\\n    function depositERC20(address token, uint amount, string calldata incognitoAddress) external nonReentrant {\\n        IERC20 erc20Interface = IERC20(token);\\n        uint8 decimals = getDecimals(address(token));\\n        uint tokenBalance = erc20Interface.balanceOf(address(this));\\n        uint beforeTransfer = tokenBalance;\\n        uint emitAmount = amount;\\n        if (decimals > 9) {\\n            emitAmount = emitAmount / (10 ** (uint(decimals) - 9));\\n            tokenBalance = tokenBalance / (10 ** (uint(decimals) - 9));\\n        }\\n        require(emitAmount <= 10 ** 18 && tokenBalance <= 10 ** 18 && emitAmount.safeAdd(tokenBalance) <= 10 ** 18, errorToString(Errors.VALUE_OVER_FLOW));\\n        erc20Interface.transferFrom(msg.sender, address(this), amount);\\n        require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n        require(balanceOf(token).safeSub(beforeTransfer) == amount, errorToString(Errors.NOT_EQUAL));\\n\\n        emit Deposit(token, incognitoAddress, emitAmount);\\n    }\\n\\n    /**\\n     * @dev Makes a ETH deposit to the vault to mint pETH over at Incognito Chain\\n     * @notice This only works when the contract is not Paused\\n     * @notice The maximum amount to deposit is capped since Incognito balance is stored as uint64\\n     * @param incognitoAddress: Incognito Address to receive pETH\\n     */\\n    function deposit_V2(string calldata incognitoAddress) external payable nonReentrant {\\n        require(address(this).balance <= 10 ** 27, errorToString(Errors.MAX_UINT_REACHED));\\n        emit DepositV2(ETH_TOKEN, incognitoAddress, msg.value, idCounter.current());\\n        idCounter.increment();\\n    }\\n\\n    /**\\n     * @dev Makes a ERC20 deposit to the vault to mint pERC20 over at Incognito Chain\\n     * @notice This only works when the contract is not Paused\\n     * @notice The maximum amount to deposit is capped since Incognito balance is stored as uint64\\n     * @notice Before calling this function, enough ERC20 must be allowed to\\n     * tranfer from msg.sender to this contract\\n     * @param token: address of the ERC20 token\\n     * @param amount: to deposit to the vault and mint on Incognito Chain\\n     * @param incognitoAddress: Incognito Address to receive pERC20\\n     */\\n    function depositERC20_V2(address token, uint amount, string calldata incognitoAddress) external nonReentrant {\\n        IERC20 erc20Interface = IERC20(token);\\n        uint8 decimals = getDecimals(address(token));\\n        uint tokenBalance = erc20Interface.balanceOf(address(this));\\n        uint beforeTransfer = tokenBalance;\\n        uint emitAmount = amount;\\n        if (decimals > 9) {\\n            emitAmount = emitAmount / (10 ** (uint(decimals) - 9));\\n            tokenBalance = tokenBalance / (10 ** (uint(decimals) - 9));\\n        }\\n        require(emitAmount <= 10 ** 18 && tokenBalance <= 10 ** 18 && emitAmount.safeAdd(tokenBalance) <= 10 ** 18, errorToString(Errors.VALUE_OVER_FLOW));\\n        erc20Interface.transferFrom(msg.sender, address(this), amount);\\n        require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n        require(balanceOf(token).safeSub(beforeTransfer) == amount, errorToString(Errors.NOT_EQUAL));\\n\\n        emit DepositV2(token, incognitoAddress, emitAmount, idCounter.current());\\n        idCounter.increment();\\n    }\\n\\n    /**\\n     * @dev Checks if a burn proof has been used before\\n     * @notice First, we check inside the storage of this contract itself. If the\\n     * hash has been used before, we return the result. Otherwise, we query\\n     * previous vault recursively until the first Vault (prevVault address is 0x0)\\n     * @param hash: of the burn proof\\n     * @return bool: whether the proof has been used or not\\n     */\\n    function isWithdrawed(bytes32 hash) public view returns(bool) {\\n        if (withdrawed[hash]) {\\n            return true;\\n        } else if (address(prevVault) == address(0)) {\\n            return false;\\n        }\\n        return prevVault.isWithdrawed(hash);\\n    }\\n\\n    /**\\n     * @dev Parses a burn instruction and returns the components\\n     * @param inst: the full instruction, containing both metadata and body\\n     */\\n    function parseBurnInst(bytes memory inst) public pure returns (BurnInstData memory) {\\n        BurnInstData memory data;\\n        data.meta = uint8(inst[0]);\\n        data.shard = uint8(inst[1]);\\n        address token;\\n        address payable to;\\n        uint amount;\\n        bytes32 itx;\\n        assembly {\\n            // skip first 0x20 bytes (stored length of inst)\\n            token := mload(add(inst, 0x22)) // [3:34]\\n            to := mload(add(inst, 0x42)) // [34:66]\\n            amount := mload(add(inst, 0x62)) // [66:98]\\n            itx := mload(add(inst, 0x82)) // [98:130]\\n        }\\n        data.token = token;\\n        data.to = to;\\n        data.amount = amount;\\n        data.itx = itx;\\n        return data;\\n    }\\n\\n    /**\\n     * @dev Parses an extended burn instruction and returns the components\\n     * @param inst: the full instruction, containing both metadata and body\\n     */\\n    function parseCalldataFromBurnInst(bytes calldata inst) public pure returns (BurnInstData memory, RedepositOptions memory, bytes memory) {\\n        require(inst.length >= 296, errorToString(Errors.INVALID_DATA_BURN_CALL_INST));\\n        BurnInstData memory bdata;\\n        // layout: meta(1), shard(1), network(1), extToken(32), extCallAddr(32), amount(32), txID(32), recvToken(32), withdrawAddr(32), redepositAddr(101), extCalldata(*)\\n        {\\n            bdata.meta = uint8(inst[0]);\\n            bdata.shard = uint8(inst[1]);\\n            uint8 networkID = uint8(inst[2]);\\n            require(bdata.meta == BURN_CALL_REQUEST_METADATA_TYPE && bdata.shard == 1 && networkID == CURRENT_NETWORK_ID, errorToString(Errors.INVALID_DATA_BURN_CALL_INST));\\n        }\\n        RedepositOptions memory opt;\\n        {\\n            (bdata.token, bdata.to, bdata.amount, bdata.itx, opt.redepositToken, opt.withdrawAddress) = abi.decode(inst[3:195], (address, address, uint256, bytes32, address, address));\\n        }\\n    \\n        opt.redepositIncAddress = bytes(inst[195:296]);\\n        return (bdata, opt, bytes(inst[296:]));\\n    }\\n\\n    /**\\n     * @dev Verifies that a burn instruction is valid\\n     * @notice All params except inst are the list of 2 elements corresponding to\\n     * the proof on beacon and bridge\\n     * @notice All params are the same as in `withdraw`\\n     */\\n    function verifyInst(\\n        bytes memory inst,\\n        uint heights,\\n        bytes32[] memory instPaths,\\n        bool[] memory instPathIsLefts,\\n        bytes32 instRoots,\\n        bytes32 blkData,\\n        uint[] memory sigIdxs,\\n        uint8[] memory sigVs,\\n        bytes32[] memory sigRs,\\n        bytes32[] memory sigSs\\n    ) view internal {\\n        // Each instruction can only by redeemed once\\n        bytes32 beaconInstHash = keccak256(abi.encodePacked(inst, heights));\\n\\n        // Verify instruction on beacon\\n        require(Incognito(_incognito()).instructionApproved(\\n            true, // Only check instruction on beacon\\n            beaconInstHash,\\n            heights,\\n            instPaths,\\n            instPathIsLefts,\\n            instRoots,\\n            blkData,\\n            sigIdxs,\\n            sigVs,\\n            sigRs,\\n            sigSs\\n        ), errorToString(Errors.INVALID_DATA));\\n    }\\n\\n    /**\\n     * @dev Withdraws pETH/pIERC20 by providing a burn proof over at Incognito Chain\\n     * @notice This function takes a burn instruction on Incognito Chain, checks\\n     * for its validity and returns the token back to ETH chain\\n     * @notice This only works when the contract is not Paused\\n     * @param inst: the decoded instruction as a list of bytes\\n     * @param heights: the blocks containing the instruction\\n     * @param instPaths: merkle path of the instruction\\n     * @param instPathIsLefts: whether each node on the path is the left or right child\\n     * @param instRoots: root of the merkle tree contains all instructions\\n     * @param blkData: merkle has of the block body\\n     * @param sigIdxs: indices of the validators who signed this block\\n     * @param sigVs: part of the signatures of the validators\\n     * @param sigRs: part of the signatures of the validators\\n     * @param sigSs: part of the signatures of the validators\\n     */\\n    function withdraw(\\n        bytes memory inst,\\n        uint heights,\\n        bytes32[] memory instPaths,\\n        bool[] memory instPathIsLefts,\\n        bytes32 instRoots,\\n        bytes32 blkData,\\n        uint[] memory sigIdxs,\\n        uint8[] memory sigVs,\\n        bytes32[] memory sigRs,\\n        bytes32[] memory sigSs\\n    ) public nonReentrant {\\n        require(inst.length >= 130, errorToString(Errors.INVALID_DATA));\\n        BurnInstData memory data = parseBurnInst(inst);\\n        require(data.meta == BURN_REQUEST_METADATA_TYPE && data.shard == 1, errorToString(Errors.INVALID_DATA)); // Check instruction type\\n\\n        // Not withdrawed\\n        require(!isWithdrawed(data.itx), errorToString(Errors.ALREADY_USED));\\n        withdrawed[data.itx] = true;\\n\\n        // Check if balance is enough\\n        if (data.token == ETH_TOKEN) {\\n            require(address(this).balance >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        } else {\\n            uint8 decimals = getDecimals(data.token);\\n            if (decimals > 9) {\\n                data.amount = data.amount.safeMul(10 ** (uint(decimals) - 9));\\n            }\\n            require(IERC20(data.token).balanceOf(address(this)) >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        }\\n\\n        verifyInst(\\n            inst,\\n            heights,\\n            instPaths,\\n            instPathIsLefts,\\n            instRoots,\\n            blkData,\\n            sigIdxs,\\n            sigVs,\\n            sigRs,\\n            sigSs\\n        );\\n\\n        // Send and notify\\n        if (data.token == ETH_TOKEN) {\\n            (bool success, ) =  data.to.call{value: data.amount}(\\\"\\\");        \\n            require(success, errorToString(Errors.INTERNAL_TX_ERROR));\\n        } else {\\n            IERC20(data.token).transfer(data.to, data.amount);\\n            require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n        }\\n        emit Withdraw(data.token, data.to, data.amount);\\n    }\\n\\n    function executeWithBurnProof(\\n        bytes calldata inst,\\n        uint heights,\\n        bytes32[] memory instPaths,\\n        bool[] memory instPathIsLefts,\\n        bytes32 instRoots,\\n        bytes32 blkData,\\n        uint[] memory sigIdxs,\\n        uint8[] memory sigVs,\\n        bytes32[] memory sigRs,\\n        bytes32[] memory sigSs\\n    ) external nonReentrant {\\n        (BurnInstData memory data, RedepositOptions memory rOptions, bytes memory externalCalldata) = parseCalldataFromBurnInst(inst); // parse function also does sanity checks\\n        require(!isWithdrawed(data.itx), errorToString(Errors.ALREADY_USED)); // check if txID has been used previously\\n        withdrawed[data.itx] = true;\\n        // check if vault balance is sufficient\\n        if (data.token == ETH_TOKEN) {\\n            require(address(this).balance >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        } else {\\n            uint8 decimals = getDecimals(data.token);\\n            if (decimals > 9) {\\n                data.amount = data.amount.safeMul(10 ** (uint(decimals) - 9));\\n            }\\n            require(IERC20(data.token).balanceOf(address(this)) >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        }\\n\\n        verifyInst(\\n            inst,\\n            heights,\\n            instPaths,\\n            instPathIsLefts,\\n            instRoots,\\n            blkData,\\n            sigIdxs,\\n            sigVs,\\n            sigRs,\\n            sigSs\\n        );\\n\\n\\n        // perform external msgcall\\n        try this._callExternal(data.token, data.to, data.amount, externalCalldata, rOptions.redepositToken) returns (uint256 returnedAmount) {\\n            if (rOptions.withdrawAddress == address(0)) {\\n                // after executing, one can redeposit to Incognito Chain\\n                _redeposit(rOptions.redepositToken, rOptions.redepositIncAddress, returnedAmount, data.itx);\\n            } else {\\n                // alternatively, the received funds can be withdrawn\\n                try this._transferExternal(rOptions.redepositToken, rOptions.withdrawAddress, returnedAmount) {\\n                    emit Withdraw(rOptions.redepositToken, rOptions.withdrawAddress, returnedAmount);\\n                } catch (bytes memory lowLevelData) {\\n                    // upon revert, emit Redeposit event\\n                    _redeposit(rOptions.redepositToken, rOptions.redepositIncAddress, returnedAmount, data.itx);\\n                    emit ExecuteFnLog(data.itx, 1, lowLevelData);\\n                    return;\\n                }\\n            }\\n        } catch (bytes memory lowLevelData) {\\n            _redeposit(data.token, rOptions.redepositIncAddress, data.amount, data.itx);\\n            emit ExecuteFnLog(data.itx, 0, lowLevelData);\\n            return;\\n        }\\n    }\\n\\n    function _redeposit(address token, bytes memory redepositIncAddress, uint256 amount, bytes32 itx) internal {\\n        uint emitAmount = amount;\\n        if (token == ETH_TOKEN) {\\n            require(address(this).balance <= 10 ** 27, errorToString(Errors.MAX_UINT_REACHED));\\n        } else {\\n            uint8 decimals = getDecimals(address(token));\\n            if (decimals > 9) {\\n                emitAmount = emitAmount / (10 ** (uint(decimals) - 9));\\n            }\\n            require(emitAmount <= 10 ** 18, errorToString(Errors.VALUE_OVER_FLOW));\\n        }\\n        emit Redeposit(token, redepositIncAddress, emitAmount, itx);\\n    }\\n\\n    function _transferExternal(address token, address payable to, uint256 amount) external onlySelf() {\\n        if (token == ETH_TOKEN) {\\n            Address.sendValue(to, amount);\\n        } else {\\n            IERC20(token).transfer(to, amount);\\n            require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n        }\\n    }\\n\\n    function _callExternal(address token, address to, uint256 amount, bytes memory externalCalldata, address redepositToken) external onlySelf() returns (uint256) {\\n        uint balanceBeforeTrade = balanceOf(redepositToken);\\n        bytes memory result;\\n        if (token == ETH_TOKEN) {\\n            result = Address.functionCallWithValue(to, externalCalldata, amount);\\n        } else {\\n            IERC20(token).transfer(to, amount);\\n            require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n            result = Address.functionCall(to, externalCalldata);\\n        }\\n        require(result.length == 64, errorToString(Errors.INVALID_RETURN_DATA));\\n        (address returnedTokenAddress, uint returnedAmount) = abi.decode(result, (address, uint));\\n        require(returnedTokenAddress == redepositToken && balanceOf(redepositToken).safeSub(balanceBeforeTrade) == returnedAmount, errorToString(Errors.INVALID_RETURN_DATA));\\n        return returnedAmount;\\n    }\\n\\n    modifier onlySelf() {\\n        require(address(this) == msg.sender, errorToString(Errors.ONLY_SELF_CALL));\\n        _;\\n    }\\n\\n    /**\\n     * @dev Burnt Proof is submited to store burnt amount of p-token/p-ETH and receiver's address\\n     * Receiver then can call withdrawRequest to withdraw these token to he/she incognito address.\\n     * @notice This function takes a burn instruction on Incognito Chain, checks\\n     * for its validity and returns the token back to ETH chain\\n     * @notice This only works when the contract is not Paused\\n     * @param inst: the decoded instruction as a list of bytes\\n     * @param heights: the blocks containing the instruction\\n     * @param instPaths: merkle path of the instruction\\n     * @param instPathIsLefts: whether each node on the path is the left or right child\\n     * @param instRoots: root of the merkle tree contains all instructions\\n     * @param blkData: merkle has of the block body\\n     * @param sigIdxs: indices of the validators who signed this block\\n     * @param sigVs: part of the signatures of the validators\\n     * @param sigRs: part of the signatures of the validators\\n     * @param sigSs: part of the signatures of the validators\\n     */\\n    function submitBurnProof(\\n        bytes memory inst,\\n        uint heights,\\n        bytes32[] memory instPaths,\\n        bool[] memory instPathIsLefts,\\n        bytes32 instRoots,\\n        bytes32 blkData,\\n        uint[] memory sigIdxs,\\n        uint8[] memory sigVs,\\n        bytes32[] memory sigRs,\\n        bytes32[] memory sigSs\\n    ) public nonReentrant {\\n        require(inst.length >= 130, errorToString(Errors.INVALID_DATA));\\n        BurnInstData memory data = parseBurnInst(inst);\\n        require(data.meta == BURN_TO_CONTRACT_REQUEST_METADATA_TYPE && data.shard == 1, errorToString(Errors.INVALID_DATA)); // Check instruction type\\n\\n        // Not withdrawed\\n        require(!isWithdrawed(data.itx), errorToString(Errors.ALREADY_USED));\\n        withdrawed[data.itx] = true;\\n\\n        // Check if balance is enough\\n        if (data.token == ETH_TOKEN) {\\n            require(address(this).balance >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        } else {\\n            uint8 decimals = getDecimals(data.token);\\n            if (decimals > 9) {\\n                data.amount = data.amount.safeMul(10 ** (uint(decimals) - 9));\\n            }\\n            require(IERC20(data.token).balanceOf(address(this)) >= data.amount.safeAdd(totalDepositedToSCAmount[data.token]), errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        }\\n\\n        verifyInst(\\n            inst,\\n            heights,\\n            instPaths,\\n            instPathIsLefts,\\n            instRoots,\\n            blkData,\\n            sigIdxs,\\n            sigVs,\\n            sigRs,\\n            sigSs\\n        );\\n\\n        withdrawRequests[data.to][data.token] = withdrawRequests[data.to][data.token].safeAdd(data.amount);\\n        totalDepositedToSCAmount[data.token] = totalDepositedToSCAmount[data.token].safeAdd(data.amount);\\n    }\\n\\n    /**\\n     * @dev generate address from signature data and hash.\\n     */\\n    function sigToAddress(bytes memory signData, bytes32 hash) public pure returns (address) {\\n        bytes32 s;\\n        bytes32 r;\\n        uint8 v;\\n        assembly {\\n            r := mload(add(signData, 0x20))\\n            s := mload(add(signData, 0x40))\\n        }\\n        v = uint8(signData[64]) + 27;\\n        return ecrecover(hash, v, r, s);\\n    }\\n\\n    /**\\n     * @dev Checks if a sig data has been used before\\n     * @notice First, we check inside the storage of this contract itself. If the\\n     * hash has been used before, we return the result. Otherwise, we query\\n     * previous vault recursively until the first Vault (prevVault address is 0x0)\\n     * @param hash: of the sig data\\n     * @return bool: whether the sig data has been used or not\\n     */\\n    function isSigDataUsed(bytes32 hash) public view returns(bool) {\\n        if (sigDataUsed[hash]) {\\n            return true;\\n        } else if (address(prevVault) == address(0)) {\\n            return false;\\n        }\\n        return prevVault.isSigDataUsed(hash);\\n    }\\n\\n    struct PreSignData {\\n        Prefix prefix;\\n        address token;\\n        bytes timestamp;\\n        uint amount;\\n    }\\n\\n    function newPreSignData(Prefix prefix, address token, bytes calldata timestamp, uint amount) pure internal returns (PreSignData memory) {\\n        PreSignData memory psd = PreSignData(prefix, token, timestamp, amount);\\n        return psd;\\n    }\\n\\n    /**\\n     * @dev User requests withdraw token contains in withdrawRequests.\\n     * Deposit event will be emitted to let incognito recognize and mint new p-tokens for the user.\\n     * @param incognitoAddress: incognito's address that will receive minted p-tokens.\\n     * @param token: ethereum's token address (eg., ETH, DAI, ...)\\n     * @param amount: amount of the token in ethereum's denomination\\n     * @param signData: signature of an unique data that is signed by an account which is generated from user's incognito privkey\\n     * @param timestamp: unique data generated from client (timestamp for example)\\n     */\\n    function requestWithdraw(\\n        string calldata incognitoAddress,\\n        address token,\\n        uint amount,\\n        bytes calldata signData,\\n        bytes calldata timestamp\\n    ) external nonReentrant {\\n        // verify owner signs data\\n        address verifier = verifySignData(abi.encode(newPreSignData(Prefix.BSC_REQUEST_WITHDRAW_SIGNATURE, token, timestamp, amount), incognitoAddress), signData);\\n\\n        // migrate from preVault\\n        migrateBalance(verifier, token);\\n\\n        require(withdrawRequests[verifier][token] >= amount, errorToString(Errors.WITHDRAW_REQUEST_TOKEN_NOT_ENOUGH));\\n        withdrawRequests[verifier][token] = withdrawRequests[verifier][token].safeSub(amount);\\n        totalDepositedToSCAmount[token] = totalDepositedToSCAmount[token].safeSub(amount);\\n\\n        // convert denomination from ethereum's to incognito's (pcoin)\\n        uint emitAmount = amount;\\n        if (token != ETH_TOKEN) {\\n            uint8 decimals = getDecimals(token);\\n            if (decimals > 9) {\\n                emitAmount = amount / (10 ** (uint(decimals) - 9));\\n            }\\n        }\\n\\n        emit Deposit(token, incognitoAddress, emitAmount);\\n    }\\n\\n    /**\\n     * @dev execute is a general function that plays a role as proxy to interact to other smart contracts.\\n     * @param token: ethereum's token address (eg., ETH, DAI, ...)\\n     * @param amount: amount of the token in ethereum's denomination\\n     * @param recipientToken: received token address.\\n     * @param exchangeAddress: address of targeting smart contract that actually executes the desired logics like trade, invest, borrow and so on.\\n     * @param callData: encoded with signature and params of function from targeting smart contract.\\n     * @param timestamp: unique data generated from client (timestamp for example)\\n     * @param signData: signature of an unique data that is signed by an account which is generated from user's incognito privkey\\n     */\\n    function execute(\\n        address token,\\n        uint amount,\\n        address recipientToken,\\n        address exchangeAddress,\\n        bytes calldata callData,\\n        bytes calldata timestamp,\\n        bytes calldata signData\\n    ) external payable nonReentrant {\\n        //verify ower signs data from input\\n        address verifier = verifySignData(abi.encode(newPreSignData(Prefix.BSC_EXECUTE_SIGNATURE, token, timestamp, amount), recipientToken, exchangeAddress, callData), signData);\\n\\n        // migrate from preVault\\n        migrateBalance(verifier, token);\\n        require(withdrawRequests[verifier][token] >= amount, errorToString(Errors.WITHDRAW_REQUEST_TOKEN_NOT_ENOUGH));\\n\\n        // update balance of verifier\\n        totalDepositedToSCAmount[token] = totalDepositedToSCAmount[token].safeSub(amount);\\n        withdrawRequests[verifier][token] = withdrawRequests[verifier][token].safeSub(amount);\\n\\n        // define number of eth spent for forwarder.\\n        uint ethAmount = msg.value;\\n        if (token == ETH_TOKEN) {\\n            ethAmount = ethAmount.safeAdd(amount);\\n        } else {\\n            // transfer token to exchangeAddress.\\n            require(IERC20(token).balanceOf(address(this)) >= amount, errorToString(Errors.TOKEN_NOT_ENOUGH));\\n            IERC20(token).transfer(exchangeAddress, amount);\\n            require(checkSuccess(), errorToString(Errors.INTERNAL_TX_ERROR));\\n        }\\n        uint returnedAmount = callExtFunc(recipientToken, ethAmount, callData, exchangeAddress);\\n\\n        // update withdrawRequests\\n        withdrawRequests[verifier][recipientToken] = withdrawRequests[verifier][recipientToken].safeAdd(returnedAmount);\\n        totalDepositedToSCAmount[recipientToken] = totalDepositedToSCAmount[recipientToken].safeAdd(returnedAmount);\\n    }\\n\\n    /**\\n     * @dev single trade\\n     */\\n    function callExtFunc(address recipientToken, uint ethAmount, bytes memory callData, address exchangeAddress) internal returns (uint) {\\n         // get balance of recipient token before trade to compare after trade.\\n        uint balanceBeforeTrade = balanceOf(recipientToken);\\n        if (recipientToken == ETH_TOKEN) {\\n            balanceBeforeTrade = balanceBeforeTrade.safeSub(msg.value);\\n        }\\n        require(address(this).balance >= ethAmount, errorToString(Errors.TOKEN_NOT_ENOUGH));\\n        (bool success, bytes memory result) = exchangeAddress.call{value: ethAmount}(callData);\\n        require(success, errorToString(Errors.INTERNAL_TX_ERROR));\\n\\n        (address returnedTokenAddress, uint returnedAmount) = abi.decode(result, (address, uint));\\n        require(returnedTokenAddress == recipientToken && balanceOf(recipientToken).safeSub(balanceBeforeTrade) == returnedAmount, errorToString(Errors.INVALID_RETURN_DATA));\\n\\n        return returnedAmount;\\n    }\\n\\n    /**\\n     * @dev verify sign data\\n     */\\n     function verifySignData(bytes memory data, bytes memory signData) internal returns(address){\\n        bytes32 hash = keccak256(data);\\n        require(!isSigDataUsed(hash), errorToString(Errors.ALREADY_USED));\\n        address verifier = sigToAddress(signData, hash);\\n        // reject when verifier equals zero\\n        require(verifier != address(0x0), errorToString(Errors.INVALID_SIGNATURE));\\n        // mark data hash of sig as used\\n        sigDataUsed[hash] = true;\\n\\n        return verifier;\\n     }\\n\\n    /**\\n      * @dev migrate balance from previous vault\\n      * Note: uncomment for next version\\n      */\\n    function migrateBalance(address owner, address token) internal {\\n        if (address(prevVault) != address(0x0) && !migration[owner][token]) {\\n            withdrawRequests[owner][token] = withdrawRequests[owner][token].safeAdd(prevVault.getDepositedBalance(token, owner));\\n            migration[owner][token] = true;\\n       }\\n    }\\n\\n    /**\\n     * @dev Get the amount of specific coin for specific wallet\\n     */\\n    function getDepositedBalance(\\n        address token,\\n        address owner\\n    ) public view returns (uint) {\\n        if (address(prevVault) != address(0x0) && !migration[owner][token]) {\\n            return withdrawRequests[owner][token].safeAdd(prevVault.getDepositedBalance(token, owner));\\n        }\\n        return withdrawRequests[owner][token];\\n    }\\n\\n    /**\\n     * @dev Move total number of assets to newVault\\n     * @notice This only works when the preVault is Paused\\n     * @notice This can only be called by preVault\\n     * @param assets: address of the ERC20 tokens to move, 0x0 for ETH\\n     * @param amounts: total number of the ERC20 tokens to move, 0x0 for ETH\\n     */\\n    function updateAssets(address[] calldata assets, uint[] calldata amounts) external onlyPreVault returns(bool) {\\n        require(assets.length == amounts.length,  errorToString(Errors.NOT_EQUAL));\\n        require(Withdrawable(prevVault).paused(), errorToString(Errors.PREVAULT_NOT_PAUSED));\\n        for (uint i = 0; i < assets.length; i++) {\\n            totalDepositedToSCAmount[assets[i]] = totalDepositedToSCAmount[assets[i]].safeAdd(amounts[i]);\\n        }\\n        emit UpdateTokenTotal(assets, amounts);\\n\\n        return true;\\n    }\\n\\n    /**\\n     * @dev Payable receive function to receive Ether from oldVault when migrating\\n     */\\n    receive() external payable {}\\n\\n    /**\\n     * @dev Check if transfer() and transferFrom() of ERC20 succeeded or not\\n     * This check is needed to fix https://github.com/ethereum/solidity/issues/4116\\n     * This function is copied from https://github.com/AdExNetwork/adex-protocol-eth/blob/master/contracts/libs/SafeERC20.sol\\n     */\\n    function checkSuccess() private pure returns (bool) {\\n        uint256 returnValue = 0;\\n        assembly {\\n            // check number of bytes returned from last function call\\n            switch returndatasize()\\n\\n            // no bytes returned: assume success\\n            case 0x0 {\\n                returnValue := 1\\n            }\\n\\n            // 32 bytes returned: check if non-zero\\n            case 0x20 {\\n                // copy 32 bytes into scratch space\\n                returndatacopy(0x0, 0x0, 0x20)\\n\\n                // load those bytes into returnValue\\n                returnValue := mload(0x0)\\n            }\\n\\n            // not sure what was returned: don't mark as success\\n            default { }\\n        }\\n        return returnValue != 0;\\n    }\\n\\n    /**\\n     * @dev convert enum to string value\\n     */\\n     function errorToString(Errors error) internal pure returns(string memory) {\\n        uint8 erroNum = uint8(error);\\n        uint maxlength = 10;\\n        bytes memory reversed = new bytes(maxlength);\\n        uint i = 0;\\n        while (erroNum != 0) {\\n            uint8 remainder = erroNum % 10;\\n            erroNum = erroNum / 10;\\n            reversed[i++] = byte(48 + remainder);\\n        }\\n        bytes memory s = new bytes(i + 1);\\n        for (uint j = 0; j <= i; j++) {\\n            s[j] = reversed[i - j];\\n        }\\n        return string(s);\\n    }\\n\\n    /**\\n     * @dev Get the decimals of an ERC20 token, return 0 if it isn't defined\\n     * We check the returndatasize to covert both cases that the token has\\n     * and doesn't have the function decimals()\\n     */\\n    function getDecimals(address token) public view returns (uint8) {\\n        require(Address.isContract(token), \\\"getDecimals non-contract\\\");\\n        IERC20 erc20 = IERC20(token);\\n        try erc20.decimals() returns (uint256 d) {\\n            return uint8(d);    \\n        } catch {\\n            revert(\\\"get ERC20 decimal failed\\\");\\n        }\\n    }\\n\\n    /**\\n     * @dev Get the amount of coin deposited to this smartcontract\\n     */\\n    function balanceOf(address token) public view returns (uint) {\\n        if (token == ETH_TOKEN) {\\n            return address(this).balance;\\n        }\\n        require(Address.isContract(token), \\\"balanceOf non-contract\\\");\\n        try IERC20(token).balanceOf(address(this)) returns (uint256 b) {\\n            return b;\\n        } catch {\\n            revert(\\\"get ERC20 balance failed\\\");\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x41e61d1c3524938356dce0527796a2b25876c553cd04bda57855835b30096030\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50614c1d806100206000396000f3fe60806040526004361061021d5760003560e01c806373bf96511161011d578063bd835c42116100b0578063d7200eb11161007f578063e4bd707411610064578063e4bd7074146105f0578063f75b98ce14610610578063fa84702e1461063057610224565b8063d7200eb1146105bb578063dca40d9e146105d057610224565b8063bd835c4214610546578063bda9b5091461055b578063c4d66de81461057b578063cf54aaa01461059b57610224565b806387add440116100ec57806387add440146104de578063995fac11146104fe578063a26e11861461051e578063a3f5d8cc1461053157610224565b806373bf96511461045e578063749c5f861461047e5780637e16e6e11461049e5780638588ccd6146104cb57610224565b8063568c04fd116101b05780636304541c1161017f57806366945b311161016457806366945b31146103fa5780636f2cbc481461042957806370a082311461043e57610224565b80636304541c146103ad57806365b5a00f146103da57610224565b8063568c04fd1461033657806358bc8337146103585780635a67cb871461036d5780635c421b2f1461038d57610224565b8063392e53cd116101ec578063392e53cd146102c15780633ed1b376146102d65780633fec6b40146102f657806349c5ba231461032357610224565b8063145e2a6b146102295780631beb7de21461024b5780631ea1940e1461026b5780631ed4276d146102a157610224565b3661022457005b600080fd5b34801561023557600080fd5b50610249610244366004613caa565b610645565b005b34801561025757600080fd5b5061024961026636600461412a565b61072e565b34801561027757600080fd5b5061028b610286366004613f15565b610b8b565b60405161029891906146e6565b60405180910390f35b3480156102ad57600080fd5b5061028b6102bc366004613e9c565b610ba0565b3480156102cd57600080fd5b5061028b610dc1565b3480156102e257600080fd5b506102496102f1366004613f6d565b610dd1565b34801561030257600080fd5b506103166103113660046140e7565b611331565b60405161029891906144fd565b610249610331366004613f2d565b6113c0565b34801561034257600080fd5b5061034b6114a6565b6040516102989190614aef565b34801561036457600080fd5b506103166114ab565b34801561037957600080fd5b50610249610388366004613e42565b6114b0565b34801561039957600080fd5b506102496103a8366004613e42565b61174c565b3480156103b957600080fd5b506103cd6103c8366004613bba565b6119f7565b604051610298919061479e565b3480156103e657600080fd5b506103cd6103f5366004613c72565b611a09565b34801561040657600080fd5b5061041a610415366004613f2d565b611a26565b60405161029893929190614a12565b34801561043557600080fd5b5061034b611c09565b34801561044a57600080fd5b506103cd610459366004613bba565b611c0e565b34801561046a57600080fd5b5061024961047936600461412a565b611ce2565b34801561048a57600080fd5b5061028b610499366004613f15565b61205a565b3480156104aa57600080fd5b506104be6104b93660046140ac565b61212a565b6040516102989190614a04565b6102496104d9366004613d69565b6121ac565b3480156104ea57600080fd5b506102496104f936600461425c565b612645565b34801561050a57600080fd5b5061028b610519366004613c72565b61286e565b61024961052c366004613f2d565b61288e565b34801561053d57600080fd5b5061028b61295f565b34801561055257600080fd5b5061034b61296f565b34801561056757600080fd5b506103cd610576366004613cea565b612974565b34801561058757600080fd5b50610249610596366004613bba565b612b1a565b3480156105a757600080fd5b5061034b6105b6366004613bba565b612bc5565b3480156105c757600080fd5b5061034b612c7f565b3480156105dc57600080fd5b5061028b6105eb366004613f15565b612c84565b3480156105fc57600080fd5b5061028b61060b366004613f15565b612c99565b34801561061c57600080fd5b506103cd61062b366004613c72565b612d19565b34801561063c57600080fd5b50610316612e45565b3033146106526013612e54565b906106795760405162461bcd60e51b815260040161067091906147ed565b60405180910390fd5b506001600160a01b038316610697576106928282612fae565b610729565b60405163a9059cbb60e01b81526001600160a01b0384169063a9059cbb906106c59085908590600401614535565b600060405180830381600087803b1580156106df57600080fd5b505af11580156106f3573d6000803e3d6000fd5b505050506106ff61304a565b6107096004612e54565b906107275760405162461bcd60e51b815260040161067091906147ed565b505b505050565b600554600160a01b900460ff166107456001612e54565b906107635760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b191690558951608211156107816006612e54565b9061079f5760405162461bcd60e51b815260040161067091906147ed565b506107a86138d5565b6107b18b61212a565b805190915060ff1660fd1480156107cf5750806020015160ff166001145b6107d96006612e54565b906107f75760405162461bcd60e51b815260040161067091906147ed565b506108058160a0015161205a565b156108106005612e54565b9061082e5760405162461bcd60e51b815260040161067091906147ed565b5060a081015160009081526020819052604090819020805460ff191660011790558101516001600160a01b03166108b9576040808201516001600160a01b031660009081526004602052205460808201516108889161307e565b4710156108956007612e54565b906108b35760405162461bcd60e51b815260040161067091906147ed565b506109cb565b60006108c88260400151612bc5565b905060098160ff1611156108f55760808201516108ef9060081960ff841601600a0a6130e4565b60808301525b6040808301516001600160a01b0316600090815260046020522054608083015161091e9161307e565b82604001516001600160a01b03166370a08231306040518263ffffffff1660e01b815260040161094e91906144fd565b60206040518083038186803b15801561096657600080fd5b505afa15801561097a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061099e9190614310565b10156109aa6007612e54565b906109c85760405162461bcd60e51b815260040161067091906147ed565b50505b6109dd8b8b8b8b8b8b8b8b8b8b613146565b60408101516001600160a01b0316610a8657600081606001516001600160a01b03168260800151604051610a10906144fa565b60006040518083038185875af1925050503d8060008114610a4d576040519150601f19603f3d011682016040523d82523d6000602084013e610a52565b606091505b5050905080610a616004612e54565b90610a7f5760405162461bcd60e51b815260040161067091906147ed565b5050610b24565b80604001516001600160a01b031663a9059cbb826060015183608001516040518363ffffffff1660e01b8152600401610ac0929190614535565b600060405180830381600087803b158015610ada57600080fd5b505af1158015610aee573d6000803e3d6000fd5b50505050610afa61304a565b610b046004612e54565b90610b225760405162461bcd60e51b815260040161067091906147ed565b505b7f9b1bfa7fa9ee420a16e124f794c35ac9f90472acc99140eb2f6447c714cad8eb816040015182606001518360800151604051610b6393929190614511565b60405180910390a150506005805460ff60a01b1916600160a01b179055505050505050505050565b60016020526000908152604090205460ff1681565b6005546000906001600160a01b031615801590610bc757506005546001600160a01b031633145b610bd1600c612e54565b90610bef5760405162461bcd60e51b815260040161067091906147ed565b50838214610bfd600a612e54565b90610c1b5760405162461bcd60e51b815260040161067091906147ed565b50600560009054906101000a90046001600160a01b03166001600160a01b0316635c975abb6040518163ffffffff1660e01b815260040160206040518083038186803b158015610c6a57600080fd5b505afa158015610c7e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ca29190613ef9565b610cac600d612e54565b90610cca5760405162461bcd60e51b815260040161067091906147ed565b5060005b84811015610d7857610d31848483818110610ce557fe5b9050602002013560046000898986818110610cfc57fe5b9050602002016020810190610d119190613bba565b6001600160a01b031681526020810191909152604001600020549061307e565b60046000888885818110610d4157fe5b9050602002016020810190610d569190613bba565b6001600160a01b03168152602081019190915260400160002055600101610cce565b507f6a7fbbcddfd518bb8c56b28ac6c7acb0f7ca093ed232eb3306e53d14e469895f85858585604051610dae949392919061464e565b60405180910390a1506001949350505050565b600554600160a81b900460ff1681565b600554600160a01b900460ff16610de86001612e54565b90610e065760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b19169055610e1c6138d5565b610e2461390a565b6060610e308e8e611a26565b925092509250610e438360a0015161205a565b15610e4e6005612e54565b90610e6c5760405162461bcd60e51b815260040161067091906147ed565b5060a083015160009081526020819052604090819020805460ff191660011790558301516001600160a01b0316610ef7576040808401516001600160a01b03166000908152600460205220546080840151610ec69161307e565b471015610ed36007612e54565b90610ef15760405162461bcd60e51b815260040161067091906147ed565b50611009565b6000610f068460400151612bc5565b905060098160ff161115610f33576080840151610f2d9060081960ff841601600a0a6130e4565b60808501525b6040808501516001600160a01b03166000908152600460205220546080850151610f5c9161307e565b84604001516001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610f8c91906144fd565b60206040518083038186803b158015610fa457600080fd5b505afa158015610fb8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fdc9190614310565b1015610fe86007612e54565b906110065760405162461bcd60e51b815260040161067091906147ed565b50505b61105f8e8e8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050508d8d8d8d8d8d8d8d8d613146565b60408084015160608501516080860151855193517fbda9b509000000000000000000000000000000000000000000000000000000008152309463bda9b509946110b2949093909290918891600401614568565b602060405180830381600087803b1580156110cc57600080fd5b505af19250505080156110fc575060408051601f3d908101601f191682019092526110f991810190614310565b60015b611195573d80801561112a576040519150601f19603f3d011682016040523d82523d6000602084013e61112f565b606091505b5061114c8460400151846020015186608001518760a00151613241565b7fdbbb883f24557adf486292429863dcfd4ac5d4db168ae94921da8e3d9a95d4168460a00151600083604051611184939291906147a7565b60405180910390a150505050611311565b60408301516001600160a01b03166111c4576111bf83600001518460200151838760a00151613241565b61130c565b825160408085015190517f145e2a6b000000000000000000000000000000000000000000000000000000008152309263145e2a6b92611207928690600401614511565b600060405180830381600087803b15801561122157600080fd5b505af1925050508015611232575060015b6112c8573d808015611260576040519150601f19603f3d011682016040523d82523d6000602084013e611265565b606091505b5061127e84600001518560200151848860a00151613241565b7fdbbb883f24557adf486292429863dcfd4ac5d4db168ae94921da8e3d9a95d4168560a001516001836040516112b6939291906147a7565b60405180910390a15050505050611311565b7f9b1bfa7fa9ee420a16e124f794c35ac9f90472acc99140eb2f6447c714cad8eb836000015184604001518360405161130393929190614511565b60405180910390a15b505050505b50506005805460ff60a01b1916600160a01b179055505050505050505050565b60008060008060208601519150604086015192508560408151811061135257fe5b602001015160f81c60f81b60f81c601b0190506001858284866040516000815260200160405260405161138894939291906147cf565b6020604051602081039080840390855afa1580156113aa573d6000803e3d6000fd5b5050506020604051035193505050505b92915050565b600554600160a01b900460ff166113d76001612e54565b906113f55760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b191690556b033b2e3c9fd0803ce800000047111561141d6002612e54565b9061143b5760405162461bcd60e51b815260040161067091906147ed565b507fd30df8040a1092415b49422a02dbd8cdd5915a596abcba02cd0f65dd86ab3851600083833461146c6006613337565b60405161147d959493929190614617565b60405180910390a161148f600661333b565b50506005805460ff60a01b1916600160a01b179055565b60fd81565b600081565b600554600160a01b900460ff166114c76001612e54565b906114e55760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b191690558360006114ff82612bc5565b90506000826001600160a01b03166370a08231306040518263ffffffff1660e01b815260040161152f91906144fd565b60206040518083038186803b15801561154757600080fd5b505afa15801561155b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061157f9190614310565b90508086600960ff851611156115ba5760098460ff1603600a0a81816115a157fe5b04905060098460ff1603600a0a83816115b657fe5b0492505b670de0b6b3a764000081111580156115da5750670de0b6b3a76400008311155b80156115f75750670de0b6b3a76400006115f4828561307e565b11155b6116016003612e54565b9061161f5760405162461bcd60e51b815260040161067091906147ed565b506040516323b872dd60e01b81526001600160a01b038616906323b872dd9061165090339030908d90600401614511565b600060405180830381600087803b15801561166a57600080fd5b505af115801561167e573d6000803e3d6000fd5b5050505061168a61304a565b6116946004612e54565b906116b25760405162461bcd60e51b815260040161067091906147ed565b50876116c7836116c18c611c0e565b90613344565b146116d2600a612e54565b906116f05760405162461bcd60e51b815260040161067091906147ed565b507f2d4b597935f3cd67fb2eebf1db4debc934cee5c7baa7153f980fdbeb2e74084e8988888460405161172694939291906145e3565b60405180910390a150506005805460ff60a01b1916600160a01b17905550505050505050565b600554600160a01b900460ff166117636001612e54565b906117815760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b1916905583600061179b82612bc5565b90506000826001600160a01b03166370a08231306040518263ffffffff1660e01b81526004016117cb91906144fd565b60206040518083038186803b1580156117e357600080fd5b505afa1580156117f7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061181b9190614310565b90508086600960ff851611156118565760098460ff1603600a0a818161183d57fe5b04905060098460ff1603600a0a838161185257fe5b0492505b670de0b6b3a764000081111580156118765750670de0b6b3a76400008311155b80156118935750670de0b6b3a7640000611890828561307e565b11155b61189d6003612e54565b906118bb5760405162461bcd60e51b815260040161067091906147ed565b506040516323b872dd60e01b81526001600160a01b038616906323b872dd906118ec90339030908d90600401614511565b600060405180830381600087803b15801561190657600080fd5b505af115801561191a573d6000803e3d6000fd5b5050505061192661304a565b6119306004612e54565b9061194e5760405162461bcd60e51b815260040161067091906147ed565b508761195d836116c18c611c0e565b14611968600a612e54565b906119865760405162461bcd60e51b815260040161067091906147ed565b507fd30df8040a1092415b49422a02dbd8cdd5915a596abcba02cd0f65dd86ab3851898888846119b66006613337565b6040516119c7959493929190614617565b60405180910390a16119d9600661333b565b50506005805460ff60a01b1916600160a01b17905550505050505050565b60046020526000908152604090205481565b600260209081526000928352604080842090915290825290205481565b611a2e6138d5565b611a3661390a565b6060610128841015611a486012612e54565b90611a665760405162461bcd60e51b815260040161067091906147ed565b50611a6f6138d5565b85856000818110611a7c57fe5b919091013560f81c82525085856001818110611a9457fe5b919091013560f81c602083015250600086866002818110611ab157fe5b845192013560f81c92505060ff16609e148015611ad55750816020015160ff166001145b8015611ae4575060ff81166002145b611aee6012612e54565b90611b0c5760405162461bcd60e51b815260040161067091906147ed565b5050611b1661390a565b611b2460c36003888a614b44565b810190611b319190613bd6565b6001600160a01b03908116604088810191909152918116875260a088019290925260808701929092529182166060860152911690830152611b7761012860c3888a614b44565b8080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050505060208201528181611bc088610128818c614b44565b81818080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250969e959d50919b50939950505050505050505050565b60ff81565b60006001600160a01b038216611c25575047611cdd565b611c2e8261339a565b611c4a5760405162461bcd60e51b815260040161067090614928565b6040516370a0823160e01b81526001600160a01b038316906370a0823190611c769030906004016144fd565b60206040518083038186803b158015611c8e57600080fd5b505afa925050508015611cbe575060408051601f3d908101601f19168201909252611cbb91810190614310565b60015b611cda5760405162461bcd60e51b8152600401610670906149cd565b90505b919050565b600554600160a01b900460ff16611cf96001612e54565b90611d175760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b19169055895160821115611d356006612e54565b90611d535760405162461bcd60e51b815260040161067091906147ed565b50611d5c6138d5565b611d658b61212a565b805190915060ff908116148015611d835750806020015160ff166001145b611d8d6006612e54565b90611dab5760405162461bcd60e51b815260040161067091906147ed565b50611db98160a0015161205a565b15611dc46005612e54565b90611de25760405162461bcd60e51b815260040161067091906147ed565b5060a081015160009081526020819052604090819020805460ff191660011790558101516001600160a01b0316611e6d576040808201516001600160a01b03166000908152600460205220546080820151611e3c9161307e565b471015611e496007612e54565b90611e675760405162461bcd60e51b815260040161067091906147ed565b50611f7f565b6000611e7c8260400151612bc5565b905060098160ff161115611ea9576080820151611ea39060081960ff841601600a0a6130e4565b60808301525b6040808301516001600160a01b03166000908152600460205220546080830151611ed29161307e565b82604001516001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401611f0291906144fd565b60206040518083038186803b158015611f1a57600080fd5b505afa158015611f2e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f529190614310565b1015611f5e6007612e54565b90611f7c5760405162461bcd60e51b815260040161067091906147ed565b50505b611f918b8b8b8b8b8b8b8b8b8b613146565b608081015160608201516001600160a01b0390811660009081526002602090815260408083208187015190941683529290522054611fce9161307e565b60608201516001600160a01b0390811660009081526002602090815260408083208187018051861685529083528184209590955560808601519451909316825260049052205461201d9161307e565b6040918201516001600160a01b031660009081526004602052919091205550506005805460ff60a01b1916600160a01b1790555050505050505050565b60008181526020819052604081205460ff161561207957506001611cdd565b6005546001600160a01b031661209157506000611cdd565b6005546040517f749c5f860000000000000000000000000000000000000000000000000000000081526001600160a01b039091169063749c5f86906120da90859060040161479e565b60206040518083038186803b1580156120f257600080fd5b505afa158015612106573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611cda9190613ef9565b6121326138d5565b61213a6138d5565b8260008151811061214757fe5b016020015160f81c815282518390600190811061216057fe5b0160209081015160f81c9082015260228301516042840151606285015160828601516001600160a01b039384166040860152929091166060840152608083015260a08201529050919050565b600554600160a01b900460ff166121c36001612e54565b906121e15760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b19169055600061225e61220260028d88888f6133a0565b8a8a8a8a60405160200161221a959493929190614a80565b60408051601f198184030181526020601f87018190048102840181019092528583529190869086908190840183828082843760009201919091525061342692505050565b905061226a818c6134ca565b6001600160a01b038082166000908152600260209081526040808320938f16835292905220548a111561229d6008612e54565b906122bb5760405162461bcd60e51b815260040161067091906147ed565b506001600160a01b038b166000908152600460205260409020546122df908b613344565b6001600160a01b03808d166000818152600460209081526040808320959095559285168152600283528381209181529152205461231c908b613344565b60026000836001600160a01b03166001600160a01b0316815260200190815260200160002060008d6001600160a01b03166001600160a01b0316815260200190815260200160002081905550600034905060006001600160a01b03168c6001600160a01b0316141561239957612392818c61307e565b90506124d4565b6040516370a0823160e01b81528b906001600160a01b038e16906370a08231906123c79030906004016144fd565b60206040518083038186803b1580156123df57600080fd5b505afa1580156123f3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124179190614310565b10156124236007612e54565b906124415760405162461bcd60e51b815260040161067091906147ed565b5060405163a9059cbb60e01b81526001600160a01b038d169063a9059cbb90612470908c908f90600401614535565b600060405180830381600087803b15801561248a57600080fd5b505af115801561249e573d6000803e3d6000fd5b505050506124aa61304a565b6124b46004612e54565b906124d25760405162461bcd60e51b815260040161067091906147ed565b505b60006125268b838b8b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050508d61360c565b90506125838160026000866001600160a01b03166001600160a01b0316815260200190815260200160002060008e6001600160a01b03166001600160a01b031681526020019081526020016000205461307e90919063ffffffff16565b60026000856001600160a01b03166001600160a01b0316815260200190815260200160002060008d6001600160a01b03166001600160a01b031681526020019081526020016000208190555061260781600460008e6001600160a01b03166001600160a01b031681526020019081526020016000205461307e90919063ffffffff16565b6001600160a01b03909b1660009081526004602052604090209a909a5550506005805460ff60a01b1916600160a01b17905550505050505050505050565b600554600160a01b900460ff1661265c6001612e54565b9061267a5760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b1916905560006126f361269b60038986868b6133a0565b8a8a6040516020016126af93929190614ac9565b60408051601f198184030181526020601f89018190048102840181019092528783529190889088908190840183828082843760009201919091525061342692505050565b90506126ff81886134ca565b6001600160a01b038082166000908152600260209081526040808320938b16835292905220548611156127326008612e54565b906127505760405162461bcd60e51b815260040161067091906147ed565b506001600160a01b038082166000908152600260209081526040808320938b16835292905220546127819087613344565b6001600160a01b038083166000908152600260209081526040808320938c1683529281528282209390935560049092529020546127be9087613344565b6001600160a01b0388166000818152600460205260409020919091558690156128125760006127ec89612bc5565b905060098160ff1611156128105760098160ff1603600a0a888161280c57fe5b0491505b505b7f2d4b597935f3cd67fb2eebf1db4debc934cee5c7baa7153f980fdbeb2e74084e888b8b8460405161284794939291906145e3565b60405180910390a150506005805460ff60a01b1916600160a01b1790555050505050505050565b600360209081526000928352604080842090915290825290205460ff1681565b600554600160a01b900460ff166128a56001612e54565b906128c35760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b191690556b033b2e3c9fd0803ce80000004711156128eb6002612e54565b906129095760405162461bcd60e51b815260040161067091906147ed565b507f2d4b597935f3cd67fb2eebf1db4debc934cee5c7baa7153f980fdbeb2e74084e600083833460405161294094939291906145e3565b60405180910390a150506005805460ff60a01b1916600160a01b179055565b600554600160a01b900460ff1681565b609e81565b60003033146129836013612e54565b906129a15760405162461bcd60e51b815260040161067091906147ed565b5060006129ad83611c0e565b905060606001600160a01b0388166129d1576129ca878688613735565b9050612a6f565b60405163a9059cbb60e01b81526001600160a01b0389169063a9059cbb906129ff908a908a90600401614535565b600060405180830381600087803b158015612a1957600080fd5b505af1158015612a2d573d6000803e3d6000fd5b50505050612a3961304a565b612a436004612e54565b90612a615760405162461bcd60e51b815260040161067091906147ed565b50612a6c8786613765565b90505b8051604014612a7e6009612e54565b90612a9c5760405162461bcd60e51b815260040161067091906147ed565b5060008082806020019051810190612ab49190613c45565b91509150856001600160a01b0316826001600160a01b0316148015612ae4575080612ae2856116c189611c0e565b145b612aee6009612e54565b90612b0c5760405162461bcd60e51b815260040161067091906147ed565b509998505050505050505050565b600554600160a81b900460ff1615612b32600f612e54565b90612b505760405162461bcd60e51b815260040161067091906147ed565b5060058054600160a01b600160a81b7fffffffffffffffffffffffff00000000000000000000000000000000000000009092166001600160a01b0394909416939093177fffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffffff161760ff60a01b1916919091179055565b6000612bd08261339a565b612bec5760405162461bcd60e51b815260040161067090614996565b6000829050806001600160a01b031663313ce5676040518163ffffffff1660e01b815260040160206040518083038186803b158015612c2a57600080fd5b505afa925050508015612c5a575060408051601f3d908101601f19168201909252612c5791810190614310565b60015b612c765760405162461bcd60e51b815260040161067090614800565b9150611cdd9050565b600281565b60006020819052908152604090205460ff1681565b60008181526001602052604081205460ff1615612cb857506001611cdd565b6005546001600160a01b0316612cd057506000611cdd565b6005546040517fe4bd70740000000000000000000000000000000000000000000000000000000081526001600160a01b039091169063e4bd7074906120da90859060040161479e565b6005546000906001600160a01b031615801590612d5c57506001600160a01b0380831660009081526003602090815260408083209387168352929052205460ff16155b15612e1857600554604051637badcc6760e11b8152612e11916001600160a01b03169063f75b98ce90612d95908790879060040161454e565b60206040518083038186803b158015612dad57600080fd5b505afa158015612dc1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612de59190614310565b6001600160a01b038085166000908152600260209081526040808320938916835292905220549061307e565b90506113ba565b506001600160a01b0380821660009081526002602090815260408083209386168352929052205492915050565b6005546001600160a01b031681565b60606000826013811115612e6457fe5b60408051600a808252818301909252919250906060908260208201818036833701905050905060005b60ff841615612ef3578151600a60ff959095168581049560018401939106916030830160f81b9185918110612ebe57fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535050612e8d565b60608160010167ffffffffffffffff81118015612f0f57600080fd5b506040519080825280601f01601f191660200182016040528015612f3a576020820181803683370190505b50905060005b828111612fa3578381840381518110612f5557fe5b602001015160f81c60f81b828281518110612f6c57fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600101612f40565b509695505050505050565b80471015612fce5760405162461bcd60e51b815260040161067090614894565b6000826001600160a01b031682604051612fe7906144fa565b60006040518083038185875af1925050503d8060008114613024576040519150601f19603f3d011682016040523d82523d6000602084013e613029565b606091505b50509050806107295760405162461bcd60e51b815260040161067090614837565b6000803d8015613061576020811461306a57613076565b60019150613076565b60206000803e60005191505b501515905090565b60008282018381108015906130935750828110155b6040518060400160405280601281526020017129b0b332a6b0ba341032bc31b2b83a34b7b760711b815250906130dc5760405162461bcd60e51b815260040161067091906147ed565b509392505050565b60008282028315806130935750828482816130fb57fe5b04146040518060400160405280601281526020017129b0b332a6b0ba341032bc31b2b83a34b7b760711b815250906130dc5760405162461bcd60e51b815260040161067091906147ed565b60008a8a60405160200161315b9291906144d8565b60405160208183030381529060405280519060200120905061317b6137a7565b6001600160a01b031663f65d21166001838d8d8d8d8d8d8d8d8d6040518c63ffffffff1660e01b81526004016131bb9b9a999897969594939291906146f1565b60206040518083038186803b1580156131d357600080fd5b505afa1580156131e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061320b9190613ef9565b6132156006612e54565b906132335760405162461bcd60e51b815260040161067091906147ed565b505050505050505050505050565b816001600160a01b03851661328e576b033b2e3c9fd0803ce800000047111561326a6002612e54565b906132885760405162461bcd60e51b815260040161067091906147ed565b506132f4565b600061329986612bc5565b905060098160ff1611156132bd5760098160ff1603600a0a82816132b957fe5b0491505b670de0b6b3a76400008211156132d36003612e54565b906132f15760405162461bcd60e51b815260040161067091906147ed565b50505b7eb45d95b5117447e2fafe7f34def913ff3ba220e4b8688acf37ae2328af7a3d8585838560405161332894939291906145ae565b60405180910390a15050505050565b5490565b80546001019055565b6000828211156040518060400160405280601281526020017129b0b332a6b0ba341032bc31b2b83a34b7b760711b815250906133935760405162461bcd60e51b815260040161067091906147ed565b5050900390565b3b151590565b6133a861393d565b6133b061393d565b60405180608001604052808860078111156133c757fe5b8152602001876001600160a01b0316815260200186868080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050509082525060200184905291505095945050505050565b8151602083012060009061343981612c99565b156134446005612e54565b906134625760405162461bcd60e51b815260040161067091906147ed565b50600061346f8483611331565b90506001600160a01b03811615156134876010612e54565b906134a55760405162461bcd60e51b815260040161067091906147ed565b506000918252600160208190526040909220805460ff19169092179091559392505050565b6005546001600160a01b03161580159061350a57506001600160a01b0380831660009081526003602090815260408083209385168352929052205460ff16155b1561360857600554604051637badcc6760e11b81526135bf916001600160a01b03169063f75b98ce90613543908590879060040161454e565b60206040518083038186803b15801561355b57600080fd5b505afa15801561356f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906135939190614310565b6001600160a01b038085166000908152600260209081526040808320938716835292905220549061307e565b6001600160a01b038084166000818152600260209081526040808320948716808452948252808320959095559181526003825283812092815291905220805460ff191660011790555b5050565b60008061361886611c0e565b90506001600160a01b038616613635576136328134613344565b90505b844710156136436007612e54565b906136615760405162461bcd60e51b815260040161067091906147ed565b5060006060846001600160a01b0316878760405161367f91906144bc565b60006040518083038185875af1925050503d80600081146136bc576040519150601f19603f3d011682016040523d82523d6000602084013e6136c1565b606091505b5091509150816136d16004612e54565b906136ef5760405162461bcd60e51b815260040161067091906147ed565b50600080828060200190518101906137079190613c45565b91509150896001600160a01b0316826001600160a01b0316148015612ae4575080612ae2866116c18d611c0e565b606061375b848484604051806060016040528060298152602001614bbf602991396137cc565b90505b9392505050565b606061375e83836040518060400160405280601e81526020017f416464726573733a206c6f772d6c6576656c2063616c6c206661696c6564000081525061388d565b7f62135fc083646fdb4e1a9d700e351b886a4a5a39da980650269edd1ade91ffd25490565b6060824710156137ee5760405162461bcd60e51b8152600401610670906148cb565b6137f78561339a565b6138135760405162461bcd60e51b81526004016106709061495f565b60006060866001600160a01b0316858760405161383091906144bc565b60006040518083038185875af1925050503d806000811461386d576040519150601f19603f3d011682016040523d82523d6000602084013e613872565b606091505b509150915061388282828661389c565b979650505050505050565b606061375b84846000856137cc565b606083156138ab57508161375e565b8251156138bb5782518084602001fd5b8160405162461bcd60e51b815260040161067091906147ed565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a081019190915290565b604051806060016040528060006001600160a01b031681526020016060815260200160006001600160a01b031681525090565b6040805160808101909152806000815260200160006001600160a01b0316815260200160608152602001600081525090565b80356113ba81614b98565b60008083601f84011261398b578182fd5b50813567ffffffffffffffff8111156139a2578182fd5b60208301915083602080830285010111156139bc57600080fd5b9250929050565b600082601f8301126139d3578081fd5b81356139e66139e182614b24565b614afd565b818152915060208083019084810181840286018201871015613a0757600080fd5b60005b84811015613a2f578135613a1d81614bb0565b84529282019290820190600101613a0a565b505050505092915050565b600082601f830112613a4a578081fd5b8135613a586139e182614b24565b818152915060208083019084810181840286018201871015613a7957600080fd5b60005b84811015613a2f57813584529282019290820190600101613a7c565b600082601f830112613aa8578081fd5b8135613ab66139e182614b24565b818152915060208083019084810181840286018201871015613ad757600080fd5b6000805b85811015613b0557823560ff81168114613af3578283fd5b85529383019391830191600101613adb565b50505050505092915050565b60008083601f840112613b22578182fd5b50813567ffffffffffffffff811115613b39578182fd5b6020830191508360208285010111156139bc57600080fd5b600082601f830112613b61578081fd5b813567ffffffffffffffff811115613b77578182fd5b613b8a601f8201601f1916602001614afd565b9150808252836020828501011115613ba157600080fd5b8060208401602084013760009082016020015292915050565b600060208284031215613bcb578081fd5b813561375e81614b98565b60008060008060008060c08789031215613bee578182fd5b8635613bf981614b98565b95506020870135613c0981614b98565b945060408701359350606087013592506080870135613c2781614b98565b915060a0870135613c3781614b98565b809150509295509295509295565b60008060408385031215613c57578182fd5b8251613c6281614b98565b6020939093015192949293505050565b60008060408385031215613c84578182fd5b8235613c8f81614b98565b91506020830135613c9f81614b98565b809150509250929050565b600080600060608486031215613cbe578283fd5b8335613cc981614b98565b92506020840135613cd981614b98565b929592945050506040919091013590565b600080600080600060a08688031215613d01578283fd5b8535613d0c81614b98565b94506020860135613d1c81614b98565b935060408601359250606086013567ffffffffffffffff811115613d3e578182fd5b613d4a88828901613b51565b9250506080860135613d5b81614b98565b809150509295509295909350565b60008060008060008060008060008060e08b8d031215613d87578788fd5b8a35613d9281614b98565b995060208b0135985060408b0135613da981614b98565b9750613db88c60608d0161396f565b965060808b013567ffffffffffffffff80821115613dd4578586fd5b613de08e838f01613b11565b909850965060a08d0135915080821115613df8578586fd5b613e048e838f01613b11565b909650945060c08d0135915080821115613e1c578384fd5b50613e298d828e01613b11565b915080935050809150509295989b9194979a5092959850565b60008060008060608587031215613e57578182fd5b8435613e6281614b98565b935060208501359250604085013567ffffffffffffffff811115613e84578283fd5b613e9087828801613b11565b95989497509550505050565b60008060008060408587031215613eb1578182fd5b843567ffffffffffffffff80821115613ec8578384fd5b613ed48883890161397a565b90965094506020870135915080821115613eec578384fd5b50613e908782880161397a565b600060208284031215613f0a578081fd5b815161375e81614bb0565b600060208284031215613f26578081fd5b5035919050565b60008060208385031215613f3f578182fd5b823567ffffffffffffffff811115613f55578283fd5b613f6185828601613b11565b90969095509350505050565b60008060008060008060008060008060006101408c8e031215613f8e578485fd5b67ffffffffffffffff808d351115613fa4578586fd5b613fb18e8e358f01613b11565b909c509a5060208d0135995060408d0135811015613fcd578586fd5b613fdd8e60408f01358f01613a3a565b98508060608e01351115613fef578586fd5b613fff8e60608f01358f016139c3565b975060808d0135965060a08d013595508060c08e0135111561401f578182fd5b61402f8e60c08f01358f01613a3a565b94508060e08e01351115614041578182fd5b6140518e60e08f01358f01613a98565b9350806101008e01351115614064578182fd5b6140758e6101008f01358f01613a3a565b9250806101208e01351115614088578182fd5b5061409a8d6101208e01358e01613a3a565b90509295989b509295989b9093969950565b6000602082840312156140bd578081fd5b813567ffffffffffffffff8111156140d3578182fd5b6140df84828501613b51565b949350505050565b600080604083850312156140f9578182fd5b823567ffffffffffffffff81111561410f578283fd5b61411b85828601613b51565b95602094909401359450505050565b6000806000806000806000806000806101408b8d031215614149578384fd5b8a3567ffffffffffffffff80821115614160578586fd5b61416c8e838f01613b51565b9b5060208d01359a5060408d0135915080821115614188578586fd5b6141948e838f01613a3a565b995060608d01359150808211156141a9578586fd5b6141b58e838f016139c3565b985060808d0135975060a08d0135965060c08d01359150808211156141d8578586fd5b6141e48e838f01613a3a565b955060e08d01359150808211156141f9578485fd5b6142058e838f01613a98565b94506101008d013591508082111561421b578384fd5b6142278e838f01613a3a565b93506101208d013591508082111561423d578283fd5b5061424a8d828e01613a3a565b9150509295989b9194979a5092959850565b60008060008060008060008060a0898b031215614277578182fd5b883567ffffffffffffffff8082111561428e578384fd5b61429a8c838d01613b11565b909a50985060208b013591506142af82614b98565b90965060408a0135955060608a013590808211156142cb578384fd5b6142d78c838d01613b11565b909650945060808b01359150808211156142ef578384fd5b506142fc8b828c01613b11565b999c989b5096995094979396929594505050565b600060208284031215614321578081fd5b5051919050565b6000815180845260208085019450808401835b8381101561435957815115158752958201959082019060010161433b565b509495945050505050565b6000815180845260208085019450808401835b8381101561435957815187529582019590820190600101614377565b6000815180845260208085019450808401835b8381101561435957815160ff16875295820195908201906001016143a6565b60008284528282602086013780602084860101526020601f19601f85011685010190509392505050565b60008151808452614407816020860160208601614b6c565b601f01601f19169290920160200192915050565b60ff815116825260ff602082015116602083015260408101516001600160a01b03808216604085015280606084015116606085015250506080810151608083015260a081015160a08301525050565b600081516008811061447857fe5b808452506001600160a01b0360208301511660208401526040820151608060408501526144a860808501826143ef565b606093840151949093019390935250919050565b600082516144ce818460208701614b6c565b9190910192915050565b600083516144ea818460208801614b6c565b9190910191825250602001919050565b90565b6001600160a01b0391909116815260200190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b6001600160a01b03929092168252602082015260400190565b6001600160a01b0392831681529116602082015260400190565b60006001600160a01b038088168352808716602084015285604084015260a0606084015261459960a08401866143ef565b91508084166080840152509695505050505050565b60006001600160a01b0386168252608060208301526145d060808301866143ef565b6040830194909452506060015292915050565b60006001600160a01b0386168252606060208301526146066060830185876143c5565b905082604083015295945050505050565b60006001600160a01b03871682526080602083015261463a6080830186886143c5565b604083019490945250606001529392505050565b6040808252810184905260008560608301825b87811015614691576020833561467681614b98565b6001600160a01b031683529283019290910190600101614661565b5083810360208501528481527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8511156146c9578283fd5b602085029150818660208301370160200190815295945050505050565b901515815260200190565b60006101608d151583528c60208401528b60408401528060608401526147198184018c614364565b9050828103608084015261472d818b614328565b90508860a08401528760c084015282810360e084015261474d8188614364565b90508281036101008401526147628187614393565b90508281036101208401526147778186614364565b905082810361014084015261478c8185614364565b9e9d5050505050505050505050505050565b90815260200190565b6000848252836020830152606060408301526147c660608301846143ef565b95945050505050565b93845260ff9290921660208401526040830152606082015260800190565b60006020825261375e60208301846143ef565b60208082526018908201527f67657420455243323020646563696d616c206661696c65640000000000000000604082015260600190565b6020808252603a908201527f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260408201527f6563697069656e74206d61792068617665207265766572746564000000000000606082015260800190565b6020808252601d908201527f416464726573733a20696e73756666696369656e742062616c616e6365000000604082015260600190565b60208082526026908201527f416464726573733a20696e73756666696369656e742062616c616e636520666f60408201527f722063616c6c0000000000000000000000000000000000000000000000000000606082015260800190565b60208082526016908201527f62616c616e63654f66206e6f6e2d636f6e747261637400000000000000000000604082015260600190565b6020808252601d908201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604082015260600190565b60208082526018908201527f676574446563696d616c73206e6f6e2d636f6e74726163740000000000000000604082015260600190565b60208082526018908201527f6765742045524332302062616c616e6365206661696c65640000000000000000604082015260600190565b60c081016113ba828461441b565b6000610100614a21838761441b565b8060c08401526001600160a01b038086511682850152602086015191506060610120850152614a546101608501836143ef565b9150806040870151166101408501525082810360e0840152614a7681856143ef565b9695505050505050565b600060808252614a93608083018861446a565b6001600160a01b038781166020850152861660408401528281036060840152614abd8185876143c5565b98975050505050505050565b600060408252614adc604083018661446a565b8281036020840152614a768185876143c5565b60ff91909116815260200190565b60405181810167ffffffffffffffff81118282101715614b1c57600080fd5b604052919050565b600067ffffffffffffffff821115614b3a578081fd5b5060209081020190565b60008085851115614b53578182fd5b83861115614b5f578182fd5b5050820193919092039150565b60005b83811015614b87578181015183820152602001614b6f565b838111156107275750506000910152565b6001600160a01b0381168114614bad57600080fd5b50565b8015158114614bad57600080fdfe416464726573733a206c6f772d6c6576656c2063616c6c20776974682076616c7565206661696c6564a26469706673582212206e5f6c7afd8d32ba9144498edae1bb75928f66d1d061b089d37bd676ebacfa9464736f6c634300060c0033",
  "deployedBytecode": "0x60806040526004361061021d5760003560e01c806373bf96511161011d578063bd835c42116100b0578063d7200eb11161007f578063e4bd707411610064578063e4bd7074146105f0578063f75b98ce14610610578063fa84702e1461063057610224565b8063d7200eb1146105bb578063dca40d9e146105d057610224565b8063bd835c4214610546578063bda9b5091461055b578063c4d66de81461057b578063cf54aaa01461059b57610224565b806387add440116100ec57806387add440146104de578063995fac11146104fe578063a26e11861461051e578063a3f5d8cc1461053157610224565b806373bf96511461045e578063749c5f861461047e5780637e16e6e11461049e5780638588ccd6146104cb57610224565b8063568c04fd116101b05780636304541c1161017f57806366945b311161016457806366945b31146103fa5780636f2cbc481461042957806370a082311461043e57610224565b80636304541c146103ad57806365b5a00f146103da57610224565b8063568c04fd1461033657806358bc8337146103585780635a67cb871461036d5780635c421b2f1461038d57610224565b8063392e53cd116101ec578063392e53cd146102c15780633ed1b376146102d65780633fec6b40146102f657806349c5ba231461032357610224565b8063145e2a6b146102295780631beb7de21461024b5780631ea1940e1461026b5780631ed4276d146102a157610224565b3661022457005b600080fd5b34801561023557600080fd5b50610249610244366004613caa565b610645565b005b34801561025757600080fd5b5061024961026636600461412a565b61072e565b34801561027757600080fd5b5061028b610286366004613f15565b610b8b565b60405161029891906146e6565b60405180910390f35b3480156102ad57600080fd5b5061028b6102bc366004613e9c565b610ba0565b3480156102cd57600080fd5b5061028b610dc1565b3480156102e257600080fd5b506102496102f1366004613f6d565b610dd1565b34801561030257600080fd5b506103166103113660046140e7565b611331565b60405161029891906144fd565b610249610331366004613f2d565b6113c0565b34801561034257600080fd5b5061034b6114a6565b6040516102989190614aef565b34801561036457600080fd5b506103166114ab565b34801561037957600080fd5b50610249610388366004613e42565b6114b0565b34801561039957600080fd5b506102496103a8366004613e42565b61174c565b3480156103b957600080fd5b506103cd6103c8366004613bba565b6119f7565b604051610298919061479e565b3480156103e657600080fd5b506103cd6103f5366004613c72565b611a09565b34801561040657600080fd5b5061041a610415366004613f2d565b611a26565b60405161029893929190614a12565b34801561043557600080fd5b5061034b611c09565b34801561044a57600080fd5b506103cd610459366004613bba565b611c0e565b34801561046a57600080fd5b5061024961047936600461412a565b611ce2565b34801561048a57600080fd5b5061028b610499366004613f15565b61205a565b3480156104aa57600080fd5b506104be6104b93660046140ac565b61212a565b6040516102989190614a04565b6102496104d9366004613d69565b6121ac565b3480156104ea57600080fd5b506102496104f936600461425c565b612645565b34801561050a57600080fd5b5061028b610519366004613c72565b61286e565b61024961052c366004613f2d565b61288e565b34801561053d57600080fd5b5061028b61295f565b34801561055257600080fd5b5061034b61296f565b34801561056757600080fd5b506103cd610576366004613cea565b612974565b34801561058757600080fd5b50610249610596366004613bba565b612b1a565b3480156105a757600080fd5b5061034b6105b6366004613bba565b612bc5565b3480156105c757600080fd5b5061034b612c7f565b3480156105dc57600080fd5b5061028b6105eb366004613f15565b612c84565b3480156105fc57600080fd5b5061028b61060b366004613f15565b612c99565b34801561061c57600080fd5b506103cd61062b366004613c72565b612d19565b34801561063c57600080fd5b50610316612e45565b3033146106526013612e54565b906106795760405162461bcd60e51b815260040161067091906147ed565b60405180910390fd5b506001600160a01b038316610697576106928282612fae565b610729565b60405163a9059cbb60e01b81526001600160a01b0384169063a9059cbb906106c59085908590600401614535565b600060405180830381600087803b1580156106df57600080fd5b505af11580156106f3573d6000803e3d6000fd5b505050506106ff61304a565b6107096004612e54565b906107275760405162461bcd60e51b815260040161067091906147ed565b505b505050565b600554600160a01b900460ff166107456001612e54565b906107635760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b191690558951608211156107816006612e54565b9061079f5760405162461bcd60e51b815260040161067091906147ed565b506107a86138d5565b6107b18b61212a565b805190915060ff1660fd1480156107cf5750806020015160ff166001145b6107d96006612e54565b906107f75760405162461bcd60e51b815260040161067091906147ed565b506108058160a0015161205a565b156108106005612e54565b9061082e5760405162461bcd60e51b815260040161067091906147ed565b5060a081015160009081526020819052604090819020805460ff191660011790558101516001600160a01b03166108b9576040808201516001600160a01b031660009081526004602052205460808201516108889161307e565b4710156108956007612e54565b906108b35760405162461bcd60e51b815260040161067091906147ed565b506109cb565b60006108c88260400151612bc5565b905060098160ff1611156108f55760808201516108ef9060081960ff841601600a0a6130e4565b60808301525b6040808301516001600160a01b0316600090815260046020522054608083015161091e9161307e565b82604001516001600160a01b03166370a08231306040518263ffffffff1660e01b815260040161094e91906144fd565b60206040518083038186803b15801561096657600080fd5b505afa15801561097a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061099e9190614310565b10156109aa6007612e54565b906109c85760405162461bcd60e51b815260040161067091906147ed565b50505b6109dd8b8b8b8b8b8b8b8b8b8b613146565b60408101516001600160a01b0316610a8657600081606001516001600160a01b03168260800151604051610a10906144fa565b60006040518083038185875af1925050503d8060008114610a4d576040519150601f19603f3d011682016040523d82523d6000602084013e610a52565b606091505b5050905080610a616004612e54565b90610a7f5760405162461bcd60e51b815260040161067091906147ed565b5050610b24565b80604001516001600160a01b031663a9059cbb826060015183608001516040518363ffffffff1660e01b8152600401610ac0929190614535565b600060405180830381600087803b158015610ada57600080fd5b505af1158015610aee573d6000803e3d6000fd5b50505050610afa61304a565b610b046004612e54565b90610b225760405162461bcd60e51b815260040161067091906147ed565b505b7f9b1bfa7fa9ee420a16e124f794c35ac9f90472acc99140eb2f6447c714cad8eb816040015182606001518360800151604051610b6393929190614511565b60405180910390a150506005805460ff60a01b1916600160a01b179055505050505050505050565b60016020526000908152604090205460ff1681565b6005546000906001600160a01b031615801590610bc757506005546001600160a01b031633145b610bd1600c612e54565b90610bef5760405162461bcd60e51b815260040161067091906147ed565b50838214610bfd600a612e54565b90610c1b5760405162461bcd60e51b815260040161067091906147ed565b50600560009054906101000a90046001600160a01b03166001600160a01b0316635c975abb6040518163ffffffff1660e01b815260040160206040518083038186803b158015610c6a57600080fd5b505afa158015610c7e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ca29190613ef9565b610cac600d612e54565b90610cca5760405162461bcd60e51b815260040161067091906147ed565b5060005b84811015610d7857610d31848483818110610ce557fe5b9050602002013560046000898986818110610cfc57fe5b9050602002016020810190610d119190613bba565b6001600160a01b031681526020810191909152604001600020549061307e565b60046000888885818110610d4157fe5b9050602002016020810190610d569190613bba565b6001600160a01b03168152602081019190915260400160002055600101610cce565b507f6a7fbbcddfd518bb8c56b28ac6c7acb0f7ca093ed232eb3306e53d14e469895f85858585604051610dae949392919061464e565b60405180910390a1506001949350505050565b600554600160a81b900460ff1681565b600554600160a01b900460ff16610de86001612e54565b90610e065760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b19169055610e1c6138d5565b610e2461390a565b6060610e308e8e611a26565b925092509250610e438360a0015161205a565b15610e4e6005612e54565b90610e6c5760405162461bcd60e51b815260040161067091906147ed565b5060a083015160009081526020819052604090819020805460ff191660011790558301516001600160a01b0316610ef7576040808401516001600160a01b03166000908152600460205220546080840151610ec69161307e565b471015610ed36007612e54565b90610ef15760405162461bcd60e51b815260040161067091906147ed565b50611009565b6000610f068460400151612bc5565b905060098160ff161115610f33576080840151610f2d9060081960ff841601600a0a6130e4565b60808501525b6040808501516001600160a01b03166000908152600460205220546080850151610f5c9161307e565b84604001516001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610f8c91906144fd565b60206040518083038186803b158015610fa457600080fd5b505afa158015610fb8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fdc9190614310565b1015610fe86007612e54565b906110065760405162461bcd60e51b815260040161067091906147ed565b50505b61105f8e8e8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050508d8d8d8d8d8d8d8d8d613146565b60408084015160608501516080860151855193517fbda9b509000000000000000000000000000000000000000000000000000000008152309463bda9b509946110b2949093909290918891600401614568565b602060405180830381600087803b1580156110cc57600080fd5b505af19250505080156110fc575060408051601f3d908101601f191682019092526110f991810190614310565b60015b611195573d80801561112a576040519150601f19603f3d011682016040523d82523d6000602084013e61112f565b606091505b5061114c8460400151846020015186608001518760a00151613241565b7fdbbb883f24557adf486292429863dcfd4ac5d4db168ae94921da8e3d9a95d4168460a00151600083604051611184939291906147a7565b60405180910390a150505050611311565b60408301516001600160a01b03166111c4576111bf83600001518460200151838760a00151613241565b61130c565b825160408085015190517f145e2a6b000000000000000000000000000000000000000000000000000000008152309263145e2a6b92611207928690600401614511565b600060405180830381600087803b15801561122157600080fd5b505af1925050508015611232575060015b6112c8573d808015611260576040519150601f19603f3d011682016040523d82523d6000602084013e611265565b606091505b5061127e84600001518560200151848860a00151613241565b7fdbbb883f24557adf486292429863dcfd4ac5d4db168ae94921da8e3d9a95d4168560a001516001836040516112b6939291906147a7565b60405180910390a15050505050611311565b7f9b1bfa7fa9ee420a16e124f794c35ac9f90472acc99140eb2f6447c714cad8eb836000015184604001518360405161130393929190614511565b60405180910390a15b505050505b50506005805460ff60a01b1916600160a01b179055505050505050505050565b60008060008060208601519150604086015192508560408151811061135257fe5b602001015160f81c60f81b60f81c601b0190506001858284866040516000815260200160405260405161138894939291906147cf565b6020604051602081039080840390855afa1580156113aa573d6000803e3d6000fd5b5050506020604051035193505050505b92915050565b600554600160a01b900460ff166113d76001612e54565b906113f55760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b191690556b033b2e3c9fd0803ce800000047111561141d6002612e54565b9061143b5760405162461bcd60e51b815260040161067091906147ed565b507fd30df8040a1092415b49422a02dbd8cdd5915a596abcba02cd0f65dd86ab3851600083833461146c6006613337565b60405161147d959493929190614617565b60405180910390a161148f600661333b565b50506005805460ff60a01b1916600160a01b179055565b60fd81565b600081565b600554600160a01b900460ff166114c76001612e54565b906114e55760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b191690558360006114ff82612bc5565b90506000826001600160a01b03166370a08231306040518263ffffffff1660e01b815260040161152f91906144fd565b60206040518083038186803b15801561154757600080fd5b505afa15801561155b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061157f9190614310565b90508086600960ff851611156115ba5760098460ff1603600a0a81816115a157fe5b04905060098460ff1603600a0a83816115b657fe5b0492505b670de0b6b3a764000081111580156115da5750670de0b6b3a76400008311155b80156115f75750670de0b6b3a76400006115f4828561307e565b11155b6116016003612e54565b9061161f5760405162461bcd60e51b815260040161067091906147ed565b506040516323b872dd60e01b81526001600160a01b038616906323b872dd9061165090339030908d90600401614511565b600060405180830381600087803b15801561166a57600080fd5b505af115801561167e573d6000803e3d6000fd5b5050505061168a61304a565b6116946004612e54565b906116b25760405162461bcd60e51b815260040161067091906147ed565b50876116c7836116c18c611c0e565b90613344565b146116d2600a612e54565b906116f05760405162461bcd60e51b815260040161067091906147ed565b507f2d4b597935f3cd67fb2eebf1db4debc934cee5c7baa7153f980fdbeb2e74084e8988888460405161172694939291906145e3565b60405180910390a150506005805460ff60a01b1916600160a01b17905550505050505050565b600554600160a01b900460ff166117636001612e54565b906117815760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b1916905583600061179b82612bc5565b90506000826001600160a01b03166370a08231306040518263ffffffff1660e01b81526004016117cb91906144fd565b60206040518083038186803b1580156117e357600080fd5b505afa1580156117f7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061181b9190614310565b90508086600960ff851611156118565760098460ff1603600a0a818161183d57fe5b04905060098460ff1603600a0a838161185257fe5b0492505b670de0b6b3a764000081111580156118765750670de0b6b3a76400008311155b80156118935750670de0b6b3a7640000611890828561307e565b11155b61189d6003612e54565b906118bb5760405162461bcd60e51b815260040161067091906147ed565b506040516323b872dd60e01b81526001600160a01b038616906323b872dd906118ec90339030908d90600401614511565b600060405180830381600087803b15801561190657600080fd5b505af115801561191a573d6000803e3d6000fd5b5050505061192661304a565b6119306004612e54565b9061194e5760405162461bcd60e51b815260040161067091906147ed565b508761195d836116c18c611c0e565b14611968600a612e54565b906119865760405162461bcd60e51b815260040161067091906147ed565b507fd30df8040a1092415b49422a02dbd8cdd5915a596abcba02cd0f65dd86ab3851898888846119b66006613337565b6040516119c7959493929190614617565b60405180910390a16119d9600661333b565b50506005805460ff60a01b1916600160a01b17905550505050505050565b60046020526000908152604090205481565b600260209081526000928352604080842090915290825290205481565b611a2e6138d5565b611a3661390a565b6060610128841015611a486012612e54565b90611a665760405162461bcd60e51b815260040161067091906147ed565b50611a6f6138d5565b85856000818110611a7c57fe5b919091013560f81c82525085856001818110611a9457fe5b919091013560f81c602083015250600086866002818110611ab157fe5b845192013560f81c92505060ff16609e148015611ad55750816020015160ff166001145b8015611ae4575060ff81166002145b611aee6012612e54565b90611b0c5760405162461bcd60e51b815260040161067091906147ed565b5050611b1661390a565b611b2460c36003888a614b44565b810190611b319190613bd6565b6001600160a01b03908116604088810191909152918116875260a088019290925260808701929092529182166060860152911690830152611b7761012860c3888a614b44565b8080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050505060208201528181611bc088610128818c614b44565b81818080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250969e959d50919b50939950505050505050505050565b60ff81565b60006001600160a01b038216611c25575047611cdd565b611c2e8261339a565b611c4a5760405162461bcd60e51b815260040161067090614928565b6040516370a0823160e01b81526001600160a01b038316906370a0823190611c769030906004016144fd565b60206040518083038186803b158015611c8e57600080fd5b505afa925050508015611cbe575060408051601f3d908101601f19168201909252611cbb91810190614310565b60015b611cda5760405162461bcd60e51b8152600401610670906149cd565b90505b919050565b600554600160a01b900460ff16611cf96001612e54565b90611d175760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b19169055895160821115611d356006612e54565b90611d535760405162461bcd60e51b815260040161067091906147ed565b50611d5c6138d5565b611d658b61212a565b805190915060ff908116148015611d835750806020015160ff166001145b611d8d6006612e54565b90611dab5760405162461bcd60e51b815260040161067091906147ed565b50611db98160a0015161205a565b15611dc46005612e54565b90611de25760405162461bcd60e51b815260040161067091906147ed565b5060a081015160009081526020819052604090819020805460ff191660011790558101516001600160a01b0316611e6d576040808201516001600160a01b03166000908152600460205220546080820151611e3c9161307e565b471015611e496007612e54565b90611e675760405162461bcd60e51b815260040161067091906147ed565b50611f7f565b6000611e7c8260400151612bc5565b905060098160ff161115611ea9576080820151611ea39060081960ff841601600a0a6130e4565b60808301525b6040808301516001600160a01b03166000908152600460205220546080830151611ed29161307e565b82604001516001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401611f0291906144fd565b60206040518083038186803b158015611f1a57600080fd5b505afa158015611f2e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f529190614310565b1015611f5e6007612e54565b90611f7c5760405162461bcd60e51b815260040161067091906147ed565b50505b611f918b8b8b8b8b8b8b8b8b8b613146565b608081015160608201516001600160a01b0390811660009081526002602090815260408083208187015190941683529290522054611fce9161307e565b60608201516001600160a01b0390811660009081526002602090815260408083208187018051861685529083528184209590955560808601519451909316825260049052205461201d9161307e565b6040918201516001600160a01b031660009081526004602052919091205550506005805460ff60a01b1916600160a01b1790555050505050505050565b60008181526020819052604081205460ff161561207957506001611cdd565b6005546001600160a01b031661209157506000611cdd565b6005546040517f749c5f860000000000000000000000000000000000000000000000000000000081526001600160a01b039091169063749c5f86906120da90859060040161479e565b60206040518083038186803b1580156120f257600080fd5b505afa158015612106573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611cda9190613ef9565b6121326138d5565b61213a6138d5565b8260008151811061214757fe5b016020015160f81c815282518390600190811061216057fe5b0160209081015160f81c9082015260228301516042840151606285015160828601516001600160a01b039384166040860152929091166060840152608083015260a08201529050919050565b600554600160a01b900460ff166121c36001612e54565b906121e15760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b19169055600061225e61220260028d88888f6133a0565b8a8a8a8a60405160200161221a959493929190614a80565b60408051601f198184030181526020601f87018190048102840181019092528583529190869086908190840183828082843760009201919091525061342692505050565b905061226a818c6134ca565b6001600160a01b038082166000908152600260209081526040808320938f16835292905220548a111561229d6008612e54565b906122bb5760405162461bcd60e51b815260040161067091906147ed565b506001600160a01b038b166000908152600460205260409020546122df908b613344565b6001600160a01b03808d166000818152600460209081526040808320959095559285168152600283528381209181529152205461231c908b613344565b60026000836001600160a01b03166001600160a01b0316815260200190815260200160002060008d6001600160a01b03166001600160a01b0316815260200190815260200160002081905550600034905060006001600160a01b03168c6001600160a01b0316141561239957612392818c61307e565b90506124d4565b6040516370a0823160e01b81528b906001600160a01b038e16906370a08231906123c79030906004016144fd565b60206040518083038186803b1580156123df57600080fd5b505afa1580156123f3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124179190614310565b10156124236007612e54565b906124415760405162461bcd60e51b815260040161067091906147ed565b5060405163a9059cbb60e01b81526001600160a01b038d169063a9059cbb90612470908c908f90600401614535565b600060405180830381600087803b15801561248a57600080fd5b505af115801561249e573d6000803e3d6000fd5b505050506124aa61304a565b6124b46004612e54565b906124d25760405162461bcd60e51b815260040161067091906147ed565b505b60006125268b838b8b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050508d61360c565b90506125838160026000866001600160a01b03166001600160a01b0316815260200190815260200160002060008e6001600160a01b03166001600160a01b031681526020019081526020016000205461307e90919063ffffffff16565b60026000856001600160a01b03166001600160a01b0316815260200190815260200160002060008d6001600160a01b03166001600160a01b031681526020019081526020016000208190555061260781600460008e6001600160a01b03166001600160a01b031681526020019081526020016000205461307e90919063ffffffff16565b6001600160a01b03909b1660009081526004602052604090209a909a5550506005805460ff60a01b1916600160a01b17905550505050505050505050565b600554600160a01b900460ff1661265c6001612e54565b9061267a5760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b1916905560006126f361269b60038986868b6133a0565b8a8a6040516020016126af93929190614ac9565b60408051601f198184030181526020601f89018190048102840181019092528783529190889088908190840183828082843760009201919091525061342692505050565b90506126ff81886134ca565b6001600160a01b038082166000908152600260209081526040808320938b16835292905220548611156127326008612e54565b906127505760405162461bcd60e51b815260040161067091906147ed565b506001600160a01b038082166000908152600260209081526040808320938b16835292905220546127819087613344565b6001600160a01b038083166000908152600260209081526040808320938c1683529281528282209390935560049092529020546127be9087613344565b6001600160a01b0388166000818152600460205260409020919091558690156128125760006127ec89612bc5565b905060098160ff1611156128105760098160ff1603600a0a888161280c57fe5b0491505b505b7f2d4b597935f3cd67fb2eebf1db4debc934cee5c7baa7153f980fdbeb2e74084e888b8b8460405161284794939291906145e3565b60405180910390a150506005805460ff60a01b1916600160a01b1790555050505050505050565b600360209081526000928352604080842090915290825290205460ff1681565b600554600160a01b900460ff166128a56001612e54565b906128c35760405162461bcd60e51b815260040161067091906147ed565b506005805460ff60a01b191690556b033b2e3c9fd0803ce80000004711156128eb6002612e54565b906129095760405162461bcd60e51b815260040161067091906147ed565b507f2d4b597935f3cd67fb2eebf1db4debc934cee5c7baa7153f980fdbeb2e74084e600083833460405161294094939291906145e3565b60405180910390a150506005805460ff60a01b1916600160a01b179055565b600554600160a01b900460ff1681565b609e81565b60003033146129836013612e54565b906129a15760405162461bcd60e51b815260040161067091906147ed565b5060006129ad83611c0e565b905060606001600160a01b0388166129d1576129ca878688613735565b9050612a6f565b60405163a9059cbb60e01b81526001600160a01b0389169063a9059cbb906129ff908a908a90600401614535565b600060405180830381600087803b158015612a1957600080fd5b505af1158015612a2d573d6000803e3d6000fd5b50505050612a3961304a565b612a436004612e54565b90612a615760405162461bcd60e51b815260040161067091906147ed565b50612a6c8786613765565b90505b8051604014612a7e6009612e54565b90612a9c5760405162461bcd60e51b815260040161067091906147ed565b5060008082806020019051810190612ab49190613c45565b91509150856001600160a01b0316826001600160a01b0316148015612ae4575080612ae2856116c189611c0e565b145b612aee6009612e54565b90612b0c5760405162461bcd60e51b815260040161067091906147ed565b509998505050505050505050565b600554600160a81b900460ff1615612b32600f612e54565b90612b505760405162461bcd60e51b815260040161067091906147ed565b5060058054600160a01b600160a81b7fffffffffffffffffffffffff00000000000000000000000000000000000000009092166001600160a01b0394909416939093177fffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffffff161760ff60a01b1916919091179055565b6000612bd08261339a565b612bec5760405162461bcd60e51b815260040161067090614996565b6000829050806001600160a01b031663313ce5676040518163ffffffff1660e01b815260040160206040518083038186803b158015612c2a57600080fd5b505afa925050508015612c5a575060408051601f3d908101601f19168201909252612c5791810190614310565b60015b612c765760405162461bcd60e51b815260040161067090614800565b9150611cdd9050565b600281565b60006020819052908152604090205460ff1681565b60008181526001602052604081205460ff1615612cb857506001611cdd565b6005546001600160a01b0316612cd057506000611cdd565b6005546040517fe4bd70740000000000000000000000000000000000000000000000000000000081526001600160a01b039091169063e4bd7074906120da90859060040161479e565b6005546000906001600160a01b031615801590612d5c57506001600160a01b0380831660009081526003602090815260408083209387168352929052205460ff16155b15612e1857600554604051637badcc6760e11b8152612e11916001600160a01b03169063f75b98ce90612d95908790879060040161454e565b60206040518083038186803b158015612dad57600080fd5b505afa158015612dc1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612de59190614310565b6001600160a01b038085166000908152600260209081526040808320938916835292905220549061307e565b90506113ba565b506001600160a01b0380821660009081526002602090815260408083209386168352929052205492915050565b6005546001600160a01b031681565b60606000826013811115612e6457fe5b60408051600a808252818301909252919250906060908260208201818036833701905050905060005b60ff841615612ef3578151600a60ff959095168581049560018401939106916030830160f81b9185918110612ebe57fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535050612e8d565b60608160010167ffffffffffffffff81118015612f0f57600080fd5b506040519080825280601f01601f191660200182016040528015612f3a576020820181803683370190505b50905060005b828111612fa3578381840381518110612f5557fe5b602001015160f81c60f81b828281518110612f6c57fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600101612f40565b509695505050505050565b80471015612fce5760405162461bcd60e51b815260040161067090614894565b6000826001600160a01b031682604051612fe7906144fa565b60006040518083038185875af1925050503d8060008114613024576040519150601f19603f3d011682016040523d82523d6000602084013e613029565b606091505b50509050806107295760405162461bcd60e51b815260040161067090614837565b6000803d8015613061576020811461306a57613076565b60019150613076565b60206000803e60005191505b501515905090565b60008282018381108015906130935750828110155b6040518060400160405280601281526020017129b0b332a6b0ba341032bc31b2b83a34b7b760711b815250906130dc5760405162461bcd60e51b815260040161067091906147ed565b509392505050565b60008282028315806130935750828482816130fb57fe5b04146040518060400160405280601281526020017129b0b332a6b0ba341032bc31b2b83a34b7b760711b815250906130dc5760405162461bcd60e51b815260040161067091906147ed565b60008a8a60405160200161315b9291906144d8565b60405160208183030381529060405280519060200120905061317b6137a7565b6001600160a01b031663f65d21166001838d8d8d8d8d8d8d8d8d6040518c63ffffffff1660e01b81526004016131bb9b9a999897969594939291906146f1565b60206040518083038186803b1580156131d357600080fd5b505afa1580156131e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061320b9190613ef9565b6132156006612e54565b906132335760405162461bcd60e51b815260040161067091906147ed565b505050505050505050505050565b816001600160a01b03851661328e576b033b2e3c9fd0803ce800000047111561326a6002612e54565b906132885760405162461bcd60e51b815260040161067091906147ed565b506132f4565b600061329986612bc5565b905060098160ff1611156132bd5760098160ff1603600a0a82816132b957fe5b0491505b670de0b6b3a76400008211156132d36003612e54565b906132f15760405162461bcd60e51b815260040161067091906147ed565b50505b7eb45d95b5117447e2fafe7f34def913ff3ba220e4b8688acf37ae2328af7a3d8585838560405161332894939291906145ae565b60405180910390a15050505050565b5490565b80546001019055565b6000828211156040518060400160405280601281526020017129b0b332a6b0ba341032bc31b2b83a34b7b760711b815250906133935760405162461bcd60e51b815260040161067091906147ed565b5050900390565b3b151590565b6133a861393d565b6133b061393d565b60405180608001604052808860078111156133c757fe5b8152602001876001600160a01b0316815260200186868080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050509082525060200184905291505095945050505050565b8151602083012060009061343981612c99565b156134446005612e54565b906134625760405162461bcd60e51b815260040161067091906147ed565b50600061346f8483611331565b90506001600160a01b03811615156134876010612e54565b906134a55760405162461bcd60e51b815260040161067091906147ed565b506000918252600160208190526040909220805460ff19169092179091559392505050565b6005546001600160a01b03161580159061350a57506001600160a01b0380831660009081526003602090815260408083209385168352929052205460ff16155b1561360857600554604051637badcc6760e11b81526135bf916001600160a01b03169063f75b98ce90613543908590879060040161454e565b60206040518083038186803b15801561355b57600080fd5b505afa15801561356f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906135939190614310565b6001600160a01b038085166000908152600260209081526040808320938716835292905220549061307e565b6001600160a01b038084166000818152600260209081526040808320948716808452948252808320959095559181526003825283812092815291905220805460ff191660011790555b5050565b60008061361886611c0e565b90506001600160a01b038616613635576136328134613344565b90505b844710156136436007612e54565b906136615760405162461bcd60e51b815260040161067091906147ed565b5060006060846001600160a01b0316878760405161367f91906144bc565b60006040518083038185875af1925050503d80600081146136bc576040519150601f19603f3d011682016040523d82523d6000602084013e6136c1565b606091505b5091509150816136d16004612e54565b906136ef5760405162461bcd60e51b815260040161067091906147ed565b50600080828060200190518101906137079190613c45565b91509150896001600160a01b0316826001600160a01b0316148015612ae4575080612ae2866116c18d611c0e565b606061375b848484604051806060016040528060298152602001614bbf602991396137cc565b90505b9392505050565b606061375e83836040518060400160405280601e81526020017f416464726573733a206c6f772d6c6576656c2063616c6c206661696c6564000081525061388d565b7f62135fc083646fdb4e1a9d700e351b886a4a5a39da980650269edd1ade91ffd25490565b6060824710156137ee5760405162461bcd60e51b8152600401610670906148cb565b6137f78561339a565b6138135760405162461bcd60e51b81526004016106709061495f565b60006060866001600160a01b0316858760405161383091906144bc565b60006040518083038185875af1925050503d806000811461386d576040519150601f19603f3d011682016040523d82523d6000602084013e613872565b606091505b509150915061388282828661389c565b979650505050505050565b606061375b84846000856137cc565b606083156138ab57508161375e565b8251156138bb5782518084602001fd5b8160405162461bcd60e51b815260040161067091906147ed565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a081019190915290565b604051806060016040528060006001600160a01b031681526020016060815260200160006001600160a01b031681525090565b6040805160808101909152806000815260200160006001600160a01b0316815260200160608152602001600081525090565b80356113ba81614b98565b60008083601f84011261398b578182fd5b50813567ffffffffffffffff8111156139a2578182fd5b60208301915083602080830285010111156139bc57600080fd5b9250929050565b600082601f8301126139d3578081fd5b81356139e66139e182614b24565b614afd565b818152915060208083019084810181840286018201871015613a0757600080fd5b60005b84811015613a2f578135613a1d81614bb0565b84529282019290820190600101613a0a565b505050505092915050565b600082601f830112613a4a578081fd5b8135613a586139e182614b24565b818152915060208083019084810181840286018201871015613a7957600080fd5b60005b84811015613a2f57813584529282019290820190600101613a7c565b600082601f830112613aa8578081fd5b8135613ab66139e182614b24565b818152915060208083019084810181840286018201871015613ad757600080fd5b6000805b85811015613b0557823560ff81168114613af3578283fd5b85529383019391830191600101613adb565b50505050505092915050565b60008083601f840112613b22578182fd5b50813567ffffffffffffffff811115613b39578182fd5b6020830191508360208285010111156139bc57600080fd5b600082601f830112613b61578081fd5b813567ffffffffffffffff811115613b77578182fd5b613b8a601f8201601f1916602001614afd565b9150808252836020828501011115613ba157600080fd5b8060208401602084013760009082016020015292915050565b600060208284031215613bcb578081fd5b813561375e81614b98565b60008060008060008060c08789031215613bee578182fd5b8635613bf981614b98565b95506020870135613c0981614b98565b945060408701359350606087013592506080870135613c2781614b98565b915060a0870135613c3781614b98565b809150509295509295509295565b60008060408385031215613c57578182fd5b8251613c6281614b98565b6020939093015192949293505050565b60008060408385031215613c84578182fd5b8235613c8f81614b98565b91506020830135613c9f81614b98565b809150509250929050565b600080600060608486031215613cbe578283fd5b8335613cc981614b98565b92506020840135613cd981614b98565b929592945050506040919091013590565b600080600080600060a08688031215613d01578283fd5b8535613d0c81614b98565b94506020860135613d1c81614b98565b935060408601359250606086013567ffffffffffffffff811115613d3e578182fd5b613d4a88828901613b51565b9250506080860135613d5b81614b98565b809150509295509295909350565b60008060008060008060008060008060e08b8d031215613d87578788fd5b8a35613d9281614b98565b995060208b0135985060408b0135613da981614b98565b9750613db88c60608d0161396f565b965060808b013567ffffffffffffffff80821115613dd4578586fd5b613de08e838f01613b11565b909850965060a08d0135915080821115613df8578586fd5b613e048e838f01613b11565b909650945060c08d0135915080821115613e1c578384fd5b50613e298d828e01613b11565b915080935050809150509295989b9194979a5092959850565b60008060008060608587031215613e57578182fd5b8435613e6281614b98565b935060208501359250604085013567ffffffffffffffff811115613e84578283fd5b613e9087828801613b11565b95989497509550505050565b60008060008060408587031215613eb1578182fd5b843567ffffffffffffffff80821115613ec8578384fd5b613ed48883890161397a565b90965094506020870135915080821115613eec578384fd5b50613e908782880161397a565b600060208284031215613f0a578081fd5b815161375e81614bb0565b600060208284031215613f26578081fd5b5035919050565b60008060208385031215613f3f578182fd5b823567ffffffffffffffff811115613f55578283fd5b613f6185828601613b11565b90969095509350505050565b60008060008060008060008060008060006101408c8e031215613f8e578485fd5b67ffffffffffffffff808d351115613fa4578586fd5b613fb18e8e358f01613b11565b909c509a5060208d0135995060408d0135811015613fcd578586fd5b613fdd8e60408f01358f01613a3a565b98508060608e01351115613fef578586fd5b613fff8e60608f01358f016139c3565b975060808d0135965060a08d013595508060c08e0135111561401f578182fd5b61402f8e60c08f01358f01613a3a565b94508060e08e01351115614041578182fd5b6140518e60e08f01358f01613a98565b9350806101008e01351115614064578182fd5b6140758e6101008f01358f01613a3a565b9250806101208e01351115614088578182fd5b5061409a8d6101208e01358e01613a3a565b90509295989b509295989b9093969950565b6000602082840312156140bd578081fd5b813567ffffffffffffffff8111156140d3578182fd5b6140df84828501613b51565b949350505050565b600080604083850312156140f9578182fd5b823567ffffffffffffffff81111561410f578283fd5b61411b85828601613b51565b95602094909401359450505050565b6000806000806000806000806000806101408b8d031215614149578384fd5b8a3567ffffffffffffffff80821115614160578586fd5b61416c8e838f01613b51565b9b5060208d01359a5060408d0135915080821115614188578586fd5b6141948e838f01613a3a565b995060608d01359150808211156141a9578586fd5b6141b58e838f016139c3565b985060808d0135975060a08d0135965060c08d01359150808211156141d8578586fd5b6141e48e838f01613a3a565b955060e08d01359150808211156141f9578485fd5b6142058e838f01613a98565b94506101008d013591508082111561421b578384fd5b6142278e838f01613a3a565b93506101208d013591508082111561423d578283fd5b5061424a8d828e01613a3a565b9150509295989b9194979a5092959850565b60008060008060008060008060a0898b031215614277578182fd5b883567ffffffffffffffff8082111561428e578384fd5b61429a8c838d01613b11565b909a50985060208b013591506142af82614b98565b90965060408a0135955060608a013590808211156142cb578384fd5b6142d78c838d01613b11565b909650945060808b01359150808211156142ef578384fd5b506142fc8b828c01613b11565b999c989b5096995094979396929594505050565b600060208284031215614321578081fd5b5051919050565b6000815180845260208085019450808401835b8381101561435957815115158752958201959082019060010161433b565b509495945050505050565b6000815180845260208085019450808401835b8381101561435957815187529582019590820190600101614377565b6000815180845260208085019450808401835b8381101561435957815160ff16875295820195908201906001016143a6565b60008284528282602086013780602084860101526020601f19601f85011685010190509392505050565b60008151808452614407816020860160208601614b6c565b601f01601f19169290920160200192915050565b60ff815116825260ff602082015116602083015260408101516001600160a01b03808216604085015280606084015116606085015250506080810151608083015260a081015160a08301525050565b600081516008811061447857fe5b808452506001600160a01b0360208301511660208401526040820151608060408501526144a860808501826143ef565b606093840151949093019390935250919050565b600082516144ce818460208701614b6c565b9190910192915050565b600083516144ea818460208801614b6c565b9190910191825250602001919050565b90565b6001600160a01b0391909116815260200190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b6001600160a01b03929092168252602082015260400190565b6001600160a01b0392831681529116602082015260400190565b60006001600160a01b038088168352808716602084015285604084015260a0606084015261459960a08401866143ef565b91508084166080840152509695505050505050565b60006001600160a01b0386168252608060208301526145d060808301866143ef565b6040830194909452506060015292915050565b60006001600160a01b0386168252606060208301526146066060830185876143c5565b905082604083015295945050505050565b60006001600160a01b03871682526080602083015261463a6080830186886143c5565b604083019490945250606001529392505050565b6040808252810184905260008560608301825b87811015614691576020833561467681614b98565b6001600160a01b031683529283019290910190600101614661565b5083810360208501528481527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8511156146c9578283fd5b602085029150818660208301370160200190815295945050505050565b901515815260200190565b60006101608d151583528c60208401528b60408401528060608401526147198184018c614364565b9050828103608084015261472d818b614328565b90508860a08401528760c084015282810360e084015261474d8188614364565b90508281036101008401526147628187614393565b90508281036101208401526147778186614364565b905082810361014084015261478c8185614364565b9e9d5050505050505050505050505050565b90815260200190565b6000848252836020830152606060408301526147c660608301846143ef565b95945050505050565b93845260ff9290921660208401526040830152606082015260800190565b60006020825261375e60208301846143ef565b60208082526018908201527f67657420455243323020646563696d616c206661696c65640000000000000000604082015260600190565b6020808252603a908201527f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260408201527f6563697069656e74206d61792068617665207265766572746564000000000000606082015260800190565b6020808252601d908201527f416464726573733a20696e73756666696369656e742062616c616e6365000000604082015260600190565b60208082526026908201527f416464726573733a20696e73756666696369656e742062616c616e636520666f60408201527f722063616c6c0000000000000000000000000000000000000000000000000000606082015260800190565b60208082526016908201527f62616c616e63654f66206e6f6e2d636f6e747261637400000000000000000000604082015260600190565b6020808252601d908201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604082015260600190565b60208082526018908201527f676574446563696d616c73206e6f6e2d636f6e74726163740000000000000000604082015260600190565b60208082526018908201527f6765742045524332302062616c616e6365206661696c65640000000000000000604082015260600190565b60c081016113ba828461441b565b6000610100614a21838761441b565b8060c08401526001600160a01b038086511682850152602086015191506060610120850152614a546101608501836143ef565b9150806040870151166101408501525082810360e0840152614a7681856143ef565b9695505050505050565b600060808252614a93608083018861446a565b6001600160a01b038781166020850152861660408401528281036060840152614abd8185876143c5565b98975050505050505050565b600060408252614adc604083018661446a565b8281036020840152614a768185876143c5565b60ff91909116815260200190565b60405181810167ffffffffffffffff81118282101715614b1c57600080fd5b604052919050565b600067ffffffffffffffff821115614b3a578081fd5b5060209081020190565b60008085851115614b53578182fd5b83861115614b5f578182fd5b5050820193919092039150565b60005b83811015614b87578181015183820152602001614b6f565b838111156107275750506000910152565b6001600160a01b0381168114614bad57600080fd5b50565b8015158114614bad57600080fdfe416464726573733a206c6f772d6c6576656c2063616c6c20776974682076616c7565206661696c6564a26469706673582212206e5f6c7afd8d32ba9144498edae1bb75928f66d1d061b089d37bd676ebacfa9464736f6c634300060c0033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "balanceOf(address)": {
        "details": "Get the amount of coin deposited to this smartcontract"
      },
      "deposit(string)": {
        "details": "Makes a ETH deposit to the vault to mint pETH over at Incognito Chain",
        "params": {
          "incognitoAddress": ": Incognito Address to receive pETH"
        }
      },
      "depositERC20(address,uint256,string)": {
        "details": "Makes a ERC20 deposit to the vault to mint pERC20 over at Incognito Chain",
        "params": {
          "amount": ": to deposit to the vault and mint on Incognito Chain",
          "incognitoAddress": ": Incognito Address to receive pERC20",
          "token": ": address of the ERC20 token"
        }
      },
      "depositERC20_V2(address,uint256,string)": {
        "details": "Makes a ERC20 deposit to the vault to mint pERC20 over at Incognito Chain",
        "params": {
          "amount": ": to deposit to the vault and mint on Incognito Chain",
          "incognitoAddress": ": Incognito Address to receive pERC20",
          "token": ": address of the ERC20 token"
        }
      },
      "deposit_V2(string)": {
        "details": "Makes a ETH deposit to the vault to mint pETH over at Incognito Chain",
        "params": {
          "incognitoAddress": ": Incognito Address to receive pETH"
        }
      },
      "execute(address,uint256,address,address,bytes,bytes,bytes)": {
        "details": "execute is a general function that plays a role as proxy to interact to other smart contracts.",
        "params": {
          "amount": ": amount of the token in ethereum's denomination",
          "callData": ": encoded with signature and params of function from targeting smart contract.",
          "exchangeAddress": ": address of targeting smart contract that actually executes the desired logics like trade, invest, borrow and so on.",
          "recipientToken": ": received token address.",
          "signData": ": signature of an unique data that is signed by an account which is generated from user's incognito privkey",
          "timestamp": ": unique data generated from client (timestamp for example)",
          "token": ": ethereum's token address (eg., ETH, DAI, ...)"
        }
      },
      "getDecimals(address)": {
        "details": "Get the decimals of an ERC20 token, return 0 if it isn't defined We check the returndatasize to covert both cases that the token has and doesn't have the function decimals()"
      },
      "getDepositedBalance(address,address)": {
        "details": "Get the amount of specific coin for specific wallet"
      },
      "initialize(address)": {
        "details": "Creates new Vault to hold assets for Incognito Chain",
        "params": {
          "_prevVault": ": previous version of the Vault to refer back if necessary After migrating all assets to a new Vault, we still need to refer back to previous Vault to make sure old withdrawals aren't being reused"
        }
      },
      "isSigDataUsed(bytes32)": {
        "details": "Checks if a sig data has been used before",
        "params": {
          "hash": ": of the sig data"
        },
        "returns": {
          "_0": "bool: whether the sig data has been used or not"
        }
      },
      "isWithdrawed(bytes32)": {
        "details": "Checks if a burn proof has been used before",
        "params": {
          "hash": ": of the burn proof"
        },
        "returns": {
          "_0": "bool: whether the proof has been used or not"
        }
      },
      "parseBurnInst(bytes)": {
        "details": "Parses a burn instruction and returns the components",
        "params": {
          "inst": ": the full instruction, containing both metadata and body"
        }
      },
      "parseCalldataFromBurnInst(bytes)": {
        "details": "Parses an extended burn instruction and returns the components",
        "params": {
          "inst": ": the full instruction, containing both metadata and body"
        }
      },
      "requestWithdraw(string,address,uint256,bytes,bytes)": {
        "details": "User requests withdraw token contains in withdrawRequests. Deposit event will be emitted to let incognito recognize and mint new p-tokens for the user.",
        "params": {
          "amount": ": amount of the token in ethereum's denomination",
          "incognitoAddress": ": incognito's address that will receive minted p-tokens.",
          "signData": ": signature of an unique data that is signed by an account which is generated from user's incognito privkey",
          "timestamp": ": unique data generated from client (timestamp for example)",
          "token": ": ethereum's token address (eg., ETH, DAI, ...)"
        }
      },
      "sigToAddress(bytes,bytes32)": {
        "details": "generate address from signature data and hash."
      },
      "submitBurnProof(bytes,uint256,bytes32[],bool[],bytes32,bytes32,uint256[],uint8[],bytes32[],bytes32[])": {
        "details": "Burnt Proof is submited to store burnt amount of p-token/p-ETH and receiver's address Receiver then can call withdrawRequest to withdraw these token to he/she incognito address.",
        "params": {
          "blkData": ": merkle has of the block body",
          "heights": ": the blocks containing the instruction",
          "inst": ": the decoded instruction as a list of bytes",
          "instPathIsLefts": ": whether each node on the path is the left or right child",
          "instPaths": ": merkle path of the instruction",
          "instRoots": ": root of the merkle tree contains all instructions",
          "sigIdxs": ": indices of the validators who signed this block",
          "sigRs": ": part of the signatures of the validators",
          "sigSs": ": part of the signatures of the validators",
          "sigVs": ": part of the signatures of the validators"
        }
      },
      "updateAssets(address[],uint256[])": {
        "details": "Move total number of assets to newVault",
        "params": {
          "amounts": ": total number of the ERC20 tokens to move, 0x0 for ETH",
          "assets": ": address of the ERC20 tokens to move, 0x0 for ETH"
        }
      },
      "withdraw(bytes,uint256,bytes32[],bool[],bytes32,bytes32,uint256[],uint8[],bytes32[],bytes32[])": {
        "details": "Withdraws pETH/pIERC20 by providing a burn proof over at Incognito Chain",
        "params": {
          "blkData": ": merkle has of the block body",
          "heights": ": the blocks containing the instruction",
          "inst": ": the decoded instruction as a list of bytes",
          "instPathIsLefts": ": whether each node on the path is the left or right child",
          "instPaths": ": merkle path of the instruction",
          "instRoots": ": root of the merkle tree contains all instructions",
          "sigIdxs": ": indices of the validators who signed this block",
          "sigRs": ": part of the signatures of the validators",
          "sigSs": ": part of the signatures of the validators",
          "sigVs": ": part of the signatures of the validators"
        }
      }
    },
    "stateVariables": {
      "CURRENT_NETWORK_ID": {
        "details": "Added in Storage Layout version : 2.0"
      },
      "_INCOGNITO_SLOT": {
        "details": "Storage slot with the incognito proxy. This is the keccak-256 hash of \"eip1967.proxy.incognito.\" subtracted by 1"
      },
      "withdrawed": {
        "details": "Storage variables for Vault This section is APPEND-ONLY, in order to preserve upgradeability since we use Proxy Pattern"
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "deposit(string)": {
        "notice": "This only works when the contract is not PausedThe maximum amount to deposit is capped since Incognito balance is stored as uint64"
      },
      "depositERC20(address,uint256,string)": {
        "notice": "This only works when the contract is not PausedThe maximum amount to deposit is capped since Incognito balance is stored as uint64Before calling this function, enough ERC20 must be allowed to tranfer from msg.sender to this contract"
      },
      "depositERC20_V2(address,uint256,string)": {
        "notice": "This only works when the contract is not PausedThe maximum amount to deposit is capped since Incognito balance is stored as uint64Before calling this function, enough ERC20 must be allowed to tranfer from msg.sender to this contract"
      },
      "deposit_V2(string)": {
        "notice": "This only works when the contract is not PausedThe maximum amount to deposit is capped since Incognito balance is stored as uint64"
      },
      "isSigDataUsed(bytes32)": {
        "notice": "First, we check inside the storage of this contract itself. If the hash has been used before, we return the result. Otherwise, we query previous vault recursively until the first Vault (prevVault address is 0x0)"
      },
      "isWithdrawed(bytes32)": {
        "notice": "First, we check inside the storage of this contract itself. If the hash has been used before, we return the result. Otherwise, we query previous vault recursively until the first Vault (prevVault address is 0x0)"
      },
      "submitBurnProof(bytes,uint256,bytes32[],bool[],bytes32,bytes32,uint256[],uint8[],bytes32[],bytes32[])": {
        "notice": "This function takes a burn instruction on Incognito Chain, checks for its validity and returns the token back to ETH chainThis only works when the contract is not Paused"
      },
      "updateAssets(address[],uint256[])": {
        "notice": "This only works when the preVault is PausedThis can only be called by preVault"
      },
      "withdraw(bytes,uint256,bytes32[],bool[],bytes32,bytes32,uint256[],uint8[],bytes32[],bytes32[])": {
        "notice": "This function takes a burn instruction on Incognito Chain, checks for its validity and returns the token back to ETH chainThis only works when the contract is not Paused"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 12188,
        "contract": "contracts/vault_variants/vault_BSC.sol:VaultBSC",
        "label": "withdrawed",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_bytes32,t_bool)"
      },
      {
        "astId": 12192,
        "contract": "contracts/vault_variants/vault_BSC.sol:VaultBSC",
        "label": "sigDataUsed",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_bytes32,t_bool)"
      },
      {
        "astId": 12198,
        "contract": "contracts/vault_variants/vault_BSC.sol:VaultBSC",
        "label": "withdrawRequests",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_address,t_mapping(t_address,t_uint256))"
      },
      {
        "astId": 12204,
        "contract": "contracts/vault_variants/vault_BSC.sol:VaultBSC",
        "label": "migration",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_mapping(t_address,t_bool))"
      },
      {
        "astId": 12208,
        "contract": "contracts/vault_variants/vault_BSC.sol:VaultBSC",
        "label": "totalDepositedToSCAmount",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_address,t_uint256)"
      },
      {
        "astId": 12210,
        "contract": "contracts/vault_variants/vault_BSC.sol:VaultBSC",
        "label": "prevVault",
        "offset": 0,
        "slot": "5",
        "type": "t_contract(Withdrawable)9286"
      },
      {
        "astId": 12212,
        "contract": "contracts/vault_variants/vault_BSC.sol:VaultBSC",
        "label": "notEntered",
        "offset": 20,
        "slot": "5",
        "type": "t_bool"
      },
      {
        "astId": 12214,
        "contract": "contracts/vault_variants/vault_BSC.sol:VaultBSC",
        "label": "isInitialized",
        "offset": 21,
        "slot": "5",
        "type": "t_bool"
      },
      {
        "astId": 12229,
        "contract": "contracts/vault_variants/vault_BSC.sol:VaultBSC",
        "label": "idCounter",
        "offset": 0,
        "slot": "6",
        "type": "t_struct(Counter)9170_storage"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_contract(Withdrawable)9286": {
        "encoding": "inplace",
        "label": "contract Withdrawable",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_address,t_mapping(t_address,t_bool))": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => mapping(address => bool))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_address,t_bool)"
      },
      "t_mapping(t_address,t_mapping(t_address,t_uint256))": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => mapping(address => uint256))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_address,t_uint256)"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_mapping(t_bytes32,t_bool)": {
        "encoding": "mapping",
        "key": "t_bytes32",
        "label": "mapping(bytes32 => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_struct(Counter)9170_storage": {
        "encoding": "inplace",
        "label": "struct Counters.Counter",
        "members": [
          {
            "astId": 9169,
            "contract": "contracts/vault_variants/vault_BSC.sol:VaultBSC",
            "label": "_value",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "32"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}